<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>2&nbsp;Terms</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x">Redex:<span class="mywbr"> </span> Practical Semantics Engineering</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Patterns.html" class="tocviewlink" pltdoc="x">Patterns</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Terms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Languages.html" class="tocviewlink" pltdoc="x">Languages</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Reduction_Relations.html" class="tocviewlink" pltdoc="x">Reduction Relations</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Other_Relations.html" class="tocviewlink" pltdoc="x">Other Relations</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Testing.html" class="tocviewlink" pltdoc="x">Testing</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="GUI.html" class="tocviewlink" pltdoc="x">GUI</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="Typesetting.html" class="tocviewlink" pltdoc="x">Typesetting</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(form._((lib._redex/reduction-semantics..rkt)._term))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktStxLink">term</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/reduction-semantics..rkt)._hole))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktStxLink">hole</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/reduction-semantics..rkt)._in-hole))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktStxLink">in-<wbr></wbr>hole</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-let))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktStxLink">term-<wbr></wbr>let</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/reduction-semantics..rkt)._redex-let))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktStxLink">redex-<wbr></wbr>let</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/reduction-semantics..rkt)._redex-let*))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktStxLink">redex-<wbr></wbr>let*</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/reduction-semantics..rkt)._define-term))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>term</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-match))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktStxLink">term-<wbr></wbr>match</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-match/single))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktStxLink">term-<wbr></wbr>match/<span class="mywbr"> </span>single</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/reduction-semantics..rkt)._plug))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktValLink">plug</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/reduction-semantics..rkt)._variable-not-in))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktValLink">variable-<wbr></wbr>not-<wbr></wbr>in</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/reduction-semantics..rkt)._variables-not-in))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktValLink">variables-<wbr></wbr>not-<wbr></wbr>in</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/reduction-semantics..rkt)._exn~3afail~3aredex~3f))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> </span>fail:<span class="mywbr"> </span>redex?</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="Patterns.html" title="backward to &quot;1 Patterns&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Redex: Practical Semantics Engineering&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Languages.html" title="forward to &quot;3 Languages&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>2<tt>&nbsp;</tt><a name="(part._.Terms)"></a>Terms</h3><p>Object language expressions in Redex are written using
<span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term))" class="RktStxLink" pltdoc="x">term</a></span>. It is similar to Racket&rsquo;s <span class="RktSym"><a href="../reference/quote.html#(form._((quote._~23~25kernel)._quote))" class="RktStxLink" pltdoc="x">quote</a></span> (in
many cases it is identical) in that it constructs lists as
the visible representation of terms.</p><p>The grammar of <a name="(tech._term)"></a><span style="font-style: italic">term</span>s is (note that an ellipsis
stands for repetition unless otherwise indicated):</p><p><table cellspacing="0"><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">term</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">identifier</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">term-sequence</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktRdr">,</span><span class="RktVar">racket-expression</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._in-hole))" class="RktStxLink" pltdoc="x">in-hole</a></span><span class="hspace">&nbsp;</span><span class="RktVar">term</span><span class="hspace">&nbsp;</span><span class="RktVar">term</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._hole))" class="RktStxLink" pltdoc="x">hole</a></span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVal">#t</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVal">#f</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">string</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">term-sequence</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">term</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktRdr">,@</span><span class="RktVar">racket-expression</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">...</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">literal ellipsis</span></td></tr></table></p><ul><li><p>A term written <span class="RktVar">identifier</span> is equivalent to the
corresponding symbol, unless the identifier is bound by
<span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-let))" class="RktStxLink" pltdoc="x">term-let</a></span>, <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._define-term))" class="RktStxLink" pltdoc="x">define-term</a></span>, or a <a href="Patterns.html#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> variable or
the identifier is <span class="stt">hole</span> (as below).</p></li><li><p>A term written <span class="RktPn">(</span><span class="RktVar">term-sequence</span><span class="stt"> </span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span> constructs a list of
the terms constructed by the sequence elements.</p></li><li><p>A term written <span class="RktRdr">,</span><span class="RktVar">racket-expression</span> evaluates the
<span class="RktSym">racket-expression</span> and substitutes its value into the term at
that point.</p></li><li><p>A term written <span class="RktRdr">,@</span><span class="RktVar">racket-expression</span> evaluates the
<span class="RktSym">racket-expression</span>, which must produce a list. It then splices
the contents of the list into the expression at that point in the sequence.</p></li><li><p>A term written <span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._in-hole))" class="RktStxLink" pltdoc="x">in-hole</a></span><span class="stt"> </span><span class="RktSym">tttterm</span><span class="stt"> </span><span class="RktSym">tttterm</span><span class="RktPn">)</span>
 is the dual to the <a href="Patterns.html#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._in-hole))" class="RktStxLink" pltdoc="x">in-hole</a></span> &ndash; it accepts
 a context and an expression and uses <span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._plug))" class="RktValLink" pltdoc="x">plug</a></span> to combine
them.</p></li><li><p>A term written <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._hole))" class="RktStxLink" pltdoc="x">hole</a></span> produces a hole.</p></li><li><p>A term written as a literal boolean or a string
produces the boolean or the string.</p></li></ul><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._((lib._redex/reduction-semantics..rkt)._term))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term))" class="RktStxLink" pltdoc="x">term</a></span></span><span class="hspace">&nbsp;</span><a href="#(tech._term)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">term</span></span></a><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">This form is used for construction of a term.</div></p><p>It behaves similarly to <span class="RktSym"><a href="../reference/quasiquote.html#(form._((lib._racket/private/letstx-scheme..rkt)._quasiquote))" class="RktStxLink" pltdoc="x">quasiquote</a></span>, except for a few special
forms that are recognized (listed below) and that names bound by
<span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-let))" class="RktStxLink" pltdoc="x">term-let</a></span> are implicitly substituted with the values that
those names were bound to, expanding ellipses as in-place sublists (in
the same manner as syntax-case patterns).</p><p>For example,</p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-let))" class="RktStxLink" pltdoc="x">term-let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">body</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">expr</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-</span></span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">values</span><span class="hspace">&nbsp;</span><span class="RktVal">*</span><span class="hspace">&nbsp;</span><span class="RktVal">/</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">id</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term))" class="RktStxLink" pltdoc="x">term</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/let.html#(form._((quote._~23~25kernel)._let-values))" class="RktStxLink" pltdoc="x">let-values</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">id</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">body</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>evaluates to</p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">let-values</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">[</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">+</span><span class="RktVal">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">[</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal"><span class="nobreak">-</span></span><span class="RktVal">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">[</span><span class="RktVal">(</span><span class="RktVal">c</span><span class="hspace">&nbsp;</span><span class="RktVal">d</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">values</span><span class="hspace">&nbsp;</span><span class="RktVal">*</span><span class="hspace">&nbsp;</span><span class="RktVal">/</span><span class="RktVal">)</span><span class="RktVal">]</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr></table></blockquote><p>It is an error for a term variable to appear in an
expression with an ellipsis-depth different from the depth
with which it was bound by <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-let))" class="RktStxLink" pltdoc="x">term-let</a></span>. It is also an error
for two <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-let))" class="RktStxLink" pltdoc="x">term-let</a></span>-bound identifiers bound to lists of
different lengths to appear together inside an ellipsis.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><a name="(form._((lib._redex/reduction-semantics..rkt)._hole))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._hole))" class="RktStxLink" pltdoc="x">hole</a></span></span></td></tr></table></blockquote></div><div class="SIntrapara"> Recognized specially within
<span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term))" class="RktStxLink" pltdoc="x">term</a></span>. A <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._hole))" class="RktStxLink" pltdoc="x">hole</a></span> form is an
error elsewhere.  </div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><a name="(form._((lib._redex/reduction-semantics..rkt)._in-hole))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._in-hole))" class="RktStxLink" pltdoc="x">in-hole</a></span></span></td></tr></table></blockquote></div><div class="SIntrapara"> Recognized specially within
<span class="RktSym"><a href="Reduction_Relations.html#(form._((lib._redex/reduction-semantics..rkt)._reduction-relation))" class="RktStxLink" pltdoc="x">reduction-relation</a></span>. An <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._in-hole))" class="RktStxLink" pltdoc="x">in-hole</a></span> form is an
error elsewhere.  </div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._((lib._redex/reduction-semantics..rkt)._term-let))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-let))" class="RktStxLink" pltdoc="x">term-let</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktVar">tl-pat</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">tl-pat</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">identifier</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">tl-pat-ele</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">tl-pat-ele</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">tl-pat</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">tl-pat</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">a literal ellipsis</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Matches each given id pattern to the value yielded by
evaluating the corresponding expr and binds each variable in
the id pattern to the appropriate value (described
below). These bindings are then accessible to the <a href="#(tech._term)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">term</span></span></a>
syntactic form.</div></p><p>Note that each ellipsis should be the literal symbol consisting of
three dots (and the ... elsewhere indicates repetition as usual). If
<span class="RktVar">tl-pat</span> is an identifier, it matches any value and binds it to
the identifier, for use inside <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term))" class="RktStxLink" pltdoc="x">term</a></span>. If it is a list, it
matches only if the value being matched is a list value and only if
every subpattern recursively matches the corresponding list
element. There may be a single ellipsis in any list pattern; if one is
present, the pattern before the ellipses may match multiple adjacent
elements in the list value (possibly none).</p><p>This form is a lower-level form in Redex, and not really designed to
be used directly. For <span class="RktSym"><a href="../reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span>-like forms that use
Redex&rsquo;s full pattern matching facilities, see <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._redex-let))" class="RktStxLink" pltdoc="x">redex-let</a></span>,
<span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._redex-let*))" class="RktStxLink" pltdoc="x">redex-let*</a></span>, <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-match))" class="RktStxLink" pltdoc="x">term-match</a></span>, <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-match/single))" class="RktStxLink" pltdoc="x">term-match/single</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._((lib._redex/reduction-semantics..rkt)._redex-let))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._redex-let))" class="RktStxLink" pltdoc="x">redex-let</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">language</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><a href="Patterns.html#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a><span class="hspace">&nbsp;</span><span class="RktVar">expression</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-let))" class="RktStxLink" pltdoc="x">term-let</a></span> but the left-hand sides are Redex patterns,
interpreted according to the specified language. It is a syntax
error for two left-hand sides to bind the same pattern variable.</div></p><p>This form raises an exception recognized by <span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._exn~3afail~3aredex~3f))" class="RktValLink" pltdoc="x">exn:fail:redex?</a></span>
if any right-hand side does not match its left-hand side in exactly one
way.</p><p>In some contexts, it may be more efficient to use <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-match/single))" class="RktStxLink" pltdoc="x">term-match/single</a></span>
(lifted out of the context).</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._((lib._redex/reduction-semantics..rkt)._redex-let*))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._redex-let*))" class="RktStxLink" pltdoc="x">redex-let*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">language</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><a href="Patterns.html#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a><span class="hspace">&nbsp;</span><span class="RktVar">expression</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">The <span class="RktSym"><a href="../reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let*))" class="RktStxLink" pltdoc="x">let*</a></span> analog of <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._redex-let))" class="RktStxLink" pltdoc="x">redex-let</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._((lib._redex/reduction-semantics..rkt)._define-term))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._define-term))" class="RktStxLink" pltdoc="x">define-term</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">identifier</span><span class="hspace">&nbsp;</span><a href="#(tech._term)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">term</span></span></a><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Defines <span class="RktVar">identifier</span> for use in <a href="#(tech._term)" class="techoutside" pltdoc="x"><span class="techinside">term</span></a> templates.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._((lib._redex/reduction-semantics..rkt)._term-match))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-match))" class="RktStxLink" pltdoc="x">term-match</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">language</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><a href="Patterns.html#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a><span class="hspace">&nbsp;</span><span class="RktVar">expression</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">This produces a procedure that accepts term (or quoted)
expressions and checks them against each pattern. The
function returns a list of the values of the expression
where the pattern matches. If one of the patterns matches
multiple times, the expression is evaluated multiple times,
once with the bindings in the pattern for each match.</div></p><p>When evaluating a <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-match))" class="RktStxLink" pltdoc="x">term-match</a></span> expression, the patterns are
compiled in an effort to speed up matching. Using the procedural
result multiple times to avoid compiling the patterns multiple times.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._((lib._redex/reduction-semantics..rkt)._term-match/single))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-match/single))" class="RktStxLink" pltdoc="x">term-match/single</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">language</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><a href="Patterns.html#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a><span class="hspace">&nbsp;</span><span class="RktVar">expression</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">This produces a procedure that accepts term (or quoted)
expressions and checks them against each pattern. The
function returns the expression behind the first sucessful
match. If that pattern produces multiple matches, an error
is signaled. If no patterns match, an error is signaled.</div></p><p>Raises an exception recognized by <span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._exn~3afail~3aredex~3f))" class="RktValLink" pltdoc="x">exn:fail:redex?</a></span> if
no clauses match or if one of the clauses matches multiple ways.</p><p>When evaluating a <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term-match/single))" class="RktStxLink" pltdoc="x">term-match/single</a></span> expression, the patterns
are compiled in an effort to speed up matching. Using the procedural
result multiple times to avoid compiling the patterns multiple times.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._redex/reduction-semantics..rkt)._plug))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._plug))" class="RktValLink" pltdoc="x">plug</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">context</span><span class="hspace">&nbsp;</span><span class="RktVar">expression</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(form._((lib._racket/contract/private/misc..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">context</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">expression</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">The first argument to this function is an sexpression to
plug into. The second argument is the sexpression to replace
in the first argument. It returns the replaced term. This is
also used when a <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._term))" class="RktStxLink" pltdoc="x">term</a></span> sub-expression contains <span class="stt">in-hole</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._redex/reduction-semantics..rkt)._variable-not-in))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._variable-not-in))" class="RktValLink" pltdoc="x">variable-not-in</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">var</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">var</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This helper function accepts an sexpression and a
variable. It returns a variable not in the sexpression with
a prefix the same as the second argument.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._redex/reduction-semantics..rkt)._variables-not-in))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._variables-not-in))" class="RktValLink" pltdoc="x">variables-not-in</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span><span class="RktVar">vars</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">t</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">vars</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">This function, like variable-not-in, makes variables that do
no occur in its first argument, but it returns a list of
such variables, one for each variable in its second
argument.</div></p><p>Does not expect the input symbols to be distinct, but does
produce variables that are always distinct.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._redex/reduction-semantics..rkt)._exn~3afail~3aredex~3f))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._exn~3afail~3aredex~3f))" class="RktValLink" pltdoc="x">exn:fail:redex?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if its argument is a Redex exception record, and
<span class="RktVal">#f</span> otherwise.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="Patterns.html" title="backward to &quot;1 Patterns&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Redex: Practical Semantics Engineering&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Languages.html" title="forward to &quot;3 Languages&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>