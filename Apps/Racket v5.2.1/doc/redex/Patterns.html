<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>1&nbsp;Patterns</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x">Redex:<span class="mywbr"> </span> Practical Semantics Engineering</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Patterns</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Terms.html" class="tocviewlink" pltdoc="x">Terms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Languages.html" class="tocviewlink" pltdoc="x">Languages</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Reduction_Relations.html" class="tocviewlink" pltdoc="x">Reduction Relations</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Other_Relations.html" class="tocviewlink" pltdoc="x">Other Relations</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Testing.html" class="tocviewlink" pltdoc="x">Testing</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="GUI.html" class="tocviewlink" pltdoc="x">GUI</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="Typesetting.html" class="tocviewlink" pltdoc="x">Typesetting</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(form._((lib._redex/reduction-semantics..rkt)._redex-match))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktStxLink">redex-<wbr></wbr>match</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/reduction-semantics..rkt)._match~3f))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktValLink">match?</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/reduction-semantics..rkt)._match-bindings))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktValLink">match-<wbr></wbr>bindings</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/reduction-semantics..rkt)._bind))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym">bind</span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/reduction-semantics..rkt)._caching-enabled~3f))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktValLink">caching-<wbr></wbr>enabled?</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/reduction-semantics..rkt)._set-cache-size!))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktValLink">set-<wbr></wbr>cache-<wbr></wbr>size!</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._redex/reduction-semantics..rkt)._check-redudancy))" class="tocsublink" pltdoc="x"><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><span class="RktValLink">check-<wbr></wbr>redudancy</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="index.html" title="backward to &quot;Redex: Practical Semantics Engineering&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Redex: Practical Semantics Engineering&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Terms.html" title="forward to &quot;2 Terms&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>1<tt>&nbsp;</tt><a name="(part._.Patterns)"></a><a name="(mod-path._redex/reduction-semantics)"></a>Patterns</h3><p><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" pltdoc="x"><span class="RktSym">redex/reduction-semantics</span></a><span class="RktPn">)</span></td></tr></table></p><p>This section covers Redex&rsquo;s <a name="(tech._pattern)"></a><span style="font-style: italic">pattern</span> language, used in many
of Redex&rsquo;s forms.</p><p>Note that pattern matching is caching (including caching the results
of side-conditions). This means that once a pattern has matched a
given term, Redex assumes that it will always match that term.</p><p>This is the grammar for the Redex pattern language. Non-terminal
references are wrapped with angle brackets; otherwise identifiers
in the grammar are terminals.</p><p><table cellspacing="0"><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pattern</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">any</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">number</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">natural</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">integer</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">real</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">string</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">variable</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">variable-except</span><span class="hspace">&nbsp;</span><span class="RktVar">&lt;id&gt;</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">variable-prefix</span><span class="hspace">&nbsp;</span><span class="RktVar">&lt;id&gt;</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">variable-not-otherwise-mentioned</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">hole</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">symbol</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span><span class="RktVar">&lt;id&gt;</span><span class="hspace">&nbsp;</span><span class="RktVar">&lt;pattern&gt;</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">in-hole</span><span class="hspace">&nbsp;</span><span class="RktVar">&lt;pattern&gt;</span><span class="hspace">&nbsp;</span><span class="RktVar">&lt;pattern&gt;</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">hide-hole</span><span class="hspace">&nbsp;</span><span class="RktVar">&lt;pattern&gt;</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">side-condition</span><span class="hspace">&nbsp;</span><span class="RktVar">&lt;pattern&gt;</span><span class="hspace">&nbsp;</span><span class="RktVar">guard</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">cross</span><span class="hspace">&nbsp;</span><span class="RktVar">&lt;id&gt;</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktVar">&lt;pattern-sequence&gt;</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">&lt;racket-constant&gt;</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">pattern-sequence</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">&lt;pattern&gt;</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktSym">...</span><span class="hspace">&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">literal ellipsis</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">..._id</span></td></tr></table></p><ul><li><p>The <a name="(idx._(gentag._0._(lib._redex/redex..scrbl)))"></a><a name="(tech._any)"></a><span class="RktSym"><a href="../reference/data-structure-contracts.html#(form._((lib._racket/contract/private/misc..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matches any sexpression.
This <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> may also be suffixed with an underscore and another
identifier, in which case they bind the full name (as if it
were an implicit <a href="#(tech._name)" class="techoutside" pltdoc="x"><span class="techinside">name</span></a> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>) and match the portion
before the underscore.</p></li><li><p>The <a name="(idx._(gentag._1._(lib._redex/redex..scrbl)))"></a><a name="(tech._number)"></a><span class="RktSym">number</span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matches any number.
This <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> may also be suffixed with an underscore and another
identifier, in which case they bind the full name (as if it
were an implicit <a href="#(tech._name)" class="techoutside" pltdoc="x"><span class="techinside">name</span></a> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>) and match the portion
before the underscore.</p></li><li><p>The <a name="(idx._(gentag._2._(lib._redex/redex..scrbl)))"></a><a name="(tech._natural)"></a><span class="RktSym">natural</span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matches any exact
non-negative integer.
This <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> may also be suffixed with an underscore and another
identifier, in which case they bind the full name (as if it
were an implicit <a href="#(tech._name)" class="techoutside" pltdoc="x"><span class="techinside">name</span></a> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>) and match the portion
before the underscore.</p></li><li><p>The <a name="(idx._(gentag._3._(lib._redex/redex..scrbl)))"></a><a name="(tech._integer)"></a><span class="RktSym">integer</span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matches any exact integer.
This <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> may also be suffixed with an underscore and another
identifier, in which case they bind the full name (as if it
were an implicit <a href="#(tech._name)" class="techoutside" pltdoc="x"><span class="techinside">name</span></a> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>) and match the portion
before the underscore.</p></li><li><p>The <a name="(idx._(gentag._4._(lib._redex/redex..scrbl)))"></a><a name="(tech._real)"></a><span class="RktSym">real</span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matches any real number.
This <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> may also be suffixed with an underscore and another
identifier, in which case they bind the full name (as if it
were an implicit <a href="#(tech._name)" class="techoutside" pltdoc="x"><span class="techinside">name</span></a> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>) and match the portion
before the underscore.</p></li><li><p>The <a name="(idx._(gentag._5._(lib._redex/redex..scrbl)))"></a><a name="(tech._string)"></a><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string))" class="RktValLink" pltdoc="x">string</a></span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matches any string.
This <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> may also be suffixed with an underscore and another
identifier, in which case they bind the full name (as if it
were an implicit <a href="#(tech._name)" class="techoutside" pltdoc="x"><span class="techinside">name</span></a> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>) and match the portion
before the underscore.</p></li><li><p>The <a name="(idx._(gentag._6._(lib._redex/redex..scrbl)))"></a><a name="(tech._variable)"></a><span class="RktSym">variable</span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matches any symbol.
This <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> may also be suffixed with an underscore and another
identifier, in which case they bind the full name (as if it
were an implicit <a href="#(tech._name)" class="techoutside" pltdoc="x"><span class="techinside">name</span></a> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>) and match the portion
before the underscore.</p></li><li><p>The <a name="(idx._(gentag._7._(lib._redex/redex..scrbl)))"></a><a name="(tech._variable._except)"></a><span class="RktSym">variable-except</span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matches any symbol except those
listed in its argument. This is useful for ensuring that
keywords in the language are not accidentally captured by
variables.</p></li><li><p> The <a name="(idx._(gentag._8._(lib._redex/redex..scrbl)))"></a><a name="(tech._variable._prefix)"></a><span class="RktSym">variable-prefix</span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matches any symbol
that begins with the given prefix. </p></li><li><p>The <a name="(idx._(gentag._9._(lib._redex/redex..scrbl)))"></a><a name="(tech._variable._not._otherwise._mentioned)"></a><span class="RktSym">variable-not-otherwise-mentioned</span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matches any
symbol except those that are used as literals elsewhere in
the language.</p></li><li><p>The <a name="(idx._(gentag._10._(lib._redex/redex..scrbl)))"></a><a name="(tech._hole)"></a><span class="RktSym"><a href="Terms.html#(form._((lib._redex/reduction-semantics..rkt)._hole))" class="RktStxLink" pltdoc="x">hole</a></span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matches anything when inside
the first argument to an <a href="#(tech._in._hole)" class="techoutside" pltdoc="x"><span class="techinside">in-hole</span></a> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>. Otherwise,
it matches only a hole.</p></li><li><p>The <a name="(idx._(gentag._11._(lib._redex/redex..scrbl)))"></a><a name="(tech._symbol)"></a><span class="RktSym">symbol</span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> stands for a literal symbol that must
match exactly, unless it is the name of a non-terminal in a
relevant language or contains an underscore.</p><p>If it is a non-terminal, it matches any of the right-hand
sides of that non-terminal. If the non-terminal appears
twice in a single pattern, then the match is constrained
to expressions that are the same, unless the pattern is part
of a grammar, in which case there is no constraint.</p><p>If the symbol is a non-terminal followed by an underscore,
for example <span class="stt">e_1</span>, it is implicitly the same as a name <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>
that matches only the non-terminal, <span class="stt">(</span><a href="#(tech._name)" class="techoutside" pltdoc="x"><span class="techinside">name</span></a><span class="stt"> e_1 e)</span> for the
example. Accordingly, repeated uses of the same name are
constrainted to match the same expression.</p><p>If the symbol is a non-terminal followed by <span class="stt">_!_</span>, for example
<span class="stt">e_!_1</span>, it is also treated as a <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>, but repeated uses of
the same <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> are constrained to be different. For
example, this <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">e_!_1</span><span class="hspace">&nbsp;</span><span class="RktSym">e_!_1</span><span class="hspace">&nbsp;</span><span class="RktSym">e_!_1</span><span class="RktPn">)</span></p></blockquote><p>matches lists of three <span class="stt">e</span>s, but where all three of them are
distinct.</p><p>Unlike a <span class="stt">_</span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>, the <span class="stt">_!_</span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>s do not bind names.</p><p>If <span class="stt">_</span> names and <span class="stt">_!_</span> are mixed, they are treated as
separate. That is, this <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> <span class="stt">(e_1 e_!_1)</span> matches just the
same things as <span class="stt">(e e)</span>, but the second doesn&rsquo;t bind any
variables.</p><p>If the symbol otherwise has an underscore, it is an error.</p></li><li><p>The <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> <span class="stt">(</span><a name="(idx._(gentag._12._(lib._redex/redex..scrbl)))"></a><a name="(tech._name)"></a><span class="RktSym">name</span><span class="stt"> symbol </span><a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a><span class="stt">)</span>
matches <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a> and binds using it to the name <span class="stt">symbol</span>.</p></li><li><p>The <span class="stt">(</span><a name="(idx._(gentag._13._(lib._redex/redex..scrbl)))"></a><a name="(tech._in._hole)"></a><span class="RktSym"><a href="Terms.html#(form._((lib._redex/reduction-semantics..rkt)._in-hole))" class="RktStxLink" pltdoc="x">in-hole</a></span><span class="stt"> </span><a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a><span class="stt"> </span><a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a><span class="stt">)</span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>
matches the first <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a>. This match must include exactly one match
against the second <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a>. If there are zero matches or more
than one match, an exception is raised.</p><p>When matching the first argument of in-hole, the <span class="RktSym"><a href="Terms.html#(form._((lib._redex/reduction-semantics..rkt)._hole))" class="RktStxLink" pltdoc="x">hole</a></span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>
matches any sexpression. Then, the sexpression that matched the hole
<a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> is used to match against the second <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>.</p></li><li><p>The <span class="stt">(</span><a name="(idx._(gentag._14._(lib._redex/redex..scrbl)))"></a><a name="(tech._hide._hole)"></a><span class="RktSym">hide-hole</span><span class="stt"> </span><a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a><span class="stt">)</span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matches what
the embedded <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a> matches but if the <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matcher is
looking for a decomposition, it ignores any holes found in
that <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a>.</p></li><li><p>The <span class="stt">(</span><a name="(idx._(gentag._15._(lib._redex/redex..scrbl)))"></a><a name="(tech._side._condition)"></a><span class="RktSym">side-condition</span><span class="stt"> </span><a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a><span class="stt"> guard)</span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>
matches what the embedded <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a> matches, and then the guard
expression is evaluated. If it returns <span class="RktVal">#f</span>, the <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> fails
to match, and if it returns anything else, the <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matches. Any
occurrences of <span class="RktSym">name</span> in the <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> (including those implicitly
there via <span class="stt">_</span> pattersn) are bound using <span class="RktSym"><a href="Terms.html#(form._((lib._redex/reduction-semantics..rkt)._term-let))" class="RktStxLink" pltdoc="x">term-let</a></span> in the
guard.</p></li><li><p>The <span class="stt">(</span><a name="(idx._(gentag._16._(lib._redex/redex..scrbl)))"></a><a name="(tech._cros)"></a><span class="RktSym">cross</span><span class="stt"> symbol)</span> <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> is used for the compatible
closure functions. If the language contains a non-terminal with the
same name as <span class="RktSym">symbol</span>, the <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> <span class="RktPn">(</span><span class="RktSym">cross</span><span class="stt"> </span><span class="RktSym">symbol</span><span class="RktPn">)</span> matches the
context that corresponds to the compatible closure of that
non-terminal.</p></li><li><p>The <span class="stt">(</span><a name="(idx._(gentag._17._(lib._redex/redex..scrbl)))"></a><a name="(tech._pattern._sequence)"></a><span class="RktSym">pattern-sequence</span><span class="stt"> ...)</span>
<a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matches a sexpression
list, where each pattern-sequence element matches an element
of the list. In addition, if a list <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> contains an
ellipsis, the ellipsis is not treated as a literal, instead
it matches any number of duplications of the <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> that
came before the ellipses (including 0). Furthermore, each
<span class="stt">(</span><a href="#(tech._name)" class="techoutside" pltdoc="x"><span class="techinside">name</span></a><span class="stt"> symbol </span><a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a><span class="stt">)</span> in the duplicated <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> binds a
list of matches to <span class="stt">symbol</span>, instead of a single match.  (A
nested duplicated <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> creates a list of list matches,
etc.) Ellipses may be placed anywhere inside the row of
<a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>s, except in the first position or immediately after
another ellipses.</p><p>Multiple ellipses are allowed. For example, this <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></p></blockquote><p>matches this sexpression:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><a href="Terms.html#(tech._term)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">term</span></span></a><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>three different ways. One where the first <span class="stt">a</span> in the <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>
matches nothing, and the second matches both of the
occurrences of <span class="stt">a</span>, one where each named <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matches a
single <span class="stt">a</span> and one where the first matches both and the
second matches nothing.</p><p>If the ellipses is named (ie, has an underscore and a name
following it, like a variable may), the <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matcher
records the length of the list and ensures that any other
occurrences of the same named ellipses must have the same
length.</p><p>As an example, this <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">..._1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">..._1</span><span class="RktPn">)</span></p></blockquote><p>only matches this sexpression:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><a href="Terms.html#(tech._term)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">term</span></span></a><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>one way, with each named <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> matching a single a. Unlike
the above, the two <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>s with mismatched lengths is ruled
out, due to the underscores following the ellipses.</p><p>Also, like underscore <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>s above, if an underscore
<a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a> begins with <span class="stt">..._!_</span>, then the lengths must be
different.</p><p>Thus, with the <a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside">pattern</span></a>:</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">..._!_1</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">..._!_1</span><span class="RktPn">)</span></p></blockquote><p>and the expression</p><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><a href="Terms.html#(tech._term)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">term</span></span></a><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote><p>two matches occur, one where <span class="stt">x</span> is bound to <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span> and
<span class="stt">y</span> is bound to <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="stt"> </span><span class="RktVal">a</span><span class="RktVal">)</span> and one where <span class="stt">x</span> is bound to
<span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">a</span><span class="stt"> </span><span class="RktVal">a</span><span class="RktVal">)</span> and <span class="stt">y</span> is
bound to <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span>.</p></li></ul><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._((lib._redex/reduction-semantics..rkt)._redex-match))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._redex-match))" class="RktStxLink" pltdoc="x">redex-match</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lang</span><span class="hspace">&nbsp;</span><a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a><span class="hspace">&nbsp;</span><span class="RktVar">any</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._redex-match))" class="RktStxLink" pltdoc="x">redex-match</a></span><span class="hspace">&nbsp;</span><span class="RktVar">lang</span><span class="hspace">&nbsp;</span><a href="#(tech._pattern)" class="techoutside" pltdoc="x"><span class="techinside"><span class="RktVar">pattern</span></span></a><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">If <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._redex-match))" class="RktStxLink" pltdoc="x">redex-match</a></span> receives three arguments, it
matches the pattern (in the language) against its third
argument. If it matches, this returns a list of match
structures describing the matches (see <span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._match~3f))" class="RktValLink" pltdoc="x">match?</a></span> and
<span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._match-bindings))" class="RktValLink" pltdoc="x">match-bindings</a></span>). If it fails, it returns
<span class="RktVal">#f</span>.</div></p><p>If <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._redex-match))" class="RktStxLink" pltdoc="x">redex-match</a></span> receives only two arguments, it
builds a procedure for efficiently testing if expressions
match the pattern, using the language <span class="RktVar">lang</span>. The
procedures accepts a single expression and if the expresion
matches, it returns a list of match structures describing the
matches. If the match fails, the procedure returns <span class="RktVal">#f</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._redex/reduction-semantics..rkt)._match~3f))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._match~3f))" class="RktValLink" pltdoc="x">match?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">val</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">val</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Determines if a value is a <span class="stt">match</span> structure.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._redex/reduction-semantics..rkt)._match-bindings))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._match-bindings))" class="RktValLink" pltdoc="x">match-bindings</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">m</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._bind~3f))" class="RktValLink" pltdoc="x">bind?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._match~3f))" class="RktValLink" pltdoc="x">match?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">This returns a list of <span class="RktSym">bind</span> structs that
binds the pattern variables in this match.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><table cellspacing="0"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._redex/reduction-semantics..rkt)._bind-exp))"></a><a name="(def._((lib._redex/reduction-semantics..rkt)._bind-name))"></a><a name="(def._((lib._redex/reduction-semantics..rkt)._make-bind))"></a><a name="(def._((lib._redex/reduction-semantics..rkt)._bind~3f))"></a><a name="(def._((lib._redex/reduction-semantics..rkt)._struct~3abind))"></a><a name="(def._((lib._redex/reduction-semantics..rkt)._bind))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym">bind</span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">name</span><span class="stt"> </span><span class="RktSym">exp</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._make-bind))" class="RktValLink" pltdoc="x">make-bind</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">exp</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Instances of this struct are returned by <span class="RktSym"><a href="#(form._((lib._redex/reduction-semantics..rkt)._redex-match))" class="RktStxLink" pltdoc="x">redex-match</a></span>.
Each <span class="RktSym">bind</span> associates a name with an s-expression from the
language, or a list of such s-expressions, if the <span class="stt">(</span><a href="#(tech._name)" class="techoutside" pltdoc="x"><span class="techinside">name</span></a><span class="stt"> ...)</span>
clause is followed by an ellipsis.  Nested ellipses produce
nested lists.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._redex/reduction-semantics..rkt)._caching-enabled~3f))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._caching-enabled~3f))" class="RktValLink" pltdoc="x">caching-enabled?</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._caching-enabled~3f))" class="RktValLink" pltdoc="x">caching-enabled?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">on?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">on?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">When this parameter is <span class="RktVal">#t</span> (the default), Redex caches the results of
pattern matching and metafunction evaluation. There is a separate cache for
each pattern and metafunction; when one fills (see <span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._set-cache-size!))" class="RktValLink" pltdoc="x">set-cache-size!</a></span>),
Redex evicts all of the entries in that cache.</div></p><p>Caching should be disabled when matching a pattern that depends on values
other than the in-scope pattern variables or evaluating a metafunction
that reads or writes mutable external state.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._redex/reduction-semantics..rkt)._set-cache-size!))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._set-cache-size!))" class="RktValLink" pltdoc="x">set-cache-size!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">size</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">size</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">positive-integer?</span></td></tr></table></blockquote></div><div class="SIntrapara">Changes the size of the per-pattern and per-metafunction caches.</div></p><p>The default size is <span class="RktVal">350</span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._redex/reduction-semantics..rkt)._check-redudancy))"></a><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._check-redudancy))" class="RktValLink" pltdoc="x">check-redudancy</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: redex/reduction-semantics, redex"><span class="RktSym"><a href="#(def._((lib._redex/reduction-semantics..rkt)._check-redudancy))" class="RktValLink" pltdoc="x">check-redudancy</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">check?</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">check?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Ambiguous patterns can slow down
Redex&rsquo;s pattern matching implementation significantly. To help debug
such performance issues, set the <span class="RktSym">check-redundancy</span>
parameter to <span class="RktVal">#t</span>. This causes Redex to, at runtime,
report any redundant matches that it encounters.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="index.html" title="backward to &quot;Redex: Practical Semantics Engineering&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Redex: Practical Semantics Engineering&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Terms.html" title="forward to &quot;2 Terms&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>