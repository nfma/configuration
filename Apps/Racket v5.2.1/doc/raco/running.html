<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>8.1&nbsp;Running raco setup</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span class="stt">raco</span>:<span class="mywbr"> </span> Racket Command-<wbr></wbr>Line Tools</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="make.html" class="tocviewlink" pltdoc="x"><span class="stt">raco make</span>:<span class="mywbr"> </span> Compiling Source to Bytecode</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="link.html" class="tocviewlink" pltdoc="x"><span class="stt">raco link</span>:<span class="mywbr"> </span> Library Collection Links</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="exe.html" class="tocviewlink" pltdoc="x"><span class="stt">raco exe</span>:<span class="mywbr"> </span> Creating Stand-<wbr></wbr>Alone Executables</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="exe-dist.html" class="tocviewlink" pltdoc="x"><span class="stt">raco distribute</span>:<span class="mywbr"> </span> Sharing Stand-<wbr></wbr>Alone Executables</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="plt.html" class="tocviewlink" pltdoc="x"><span class="stt">raco pack</span>:<span class="mywbr"> </span> Packing Library Collections</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="unpack.html" class="tocviewlink" pltdoc="x"><span class="stt">raco unpack</span>:<span class="mywbr"> </span> Unpacking Library Collections</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="planet.html" class="tocviewlink" pltdoc="x"><span class="stt">raco planet</span>:<span class="mywbr"> </span> Automatic Package Distribution</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="setup.html" class="tocviewselflink" pltdoc="x"><span class="stt">raco setup</span>:<span class="mywbr"> </span> Installation Management</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="decompile.html" class="tocviewlink" pltdoc="x"><span class="stt">raco decompile</span>:<span class="mywbr"> </span> Decompiling Bytecode</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="demod.html" class="tocviewlink" pltdoc="x"><span class="stt">raco demod</span>:<span class="mywbr"> </span> Demodularizing Programs</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="ctool.html" class="tocviewlink" pltdoc="x"><span class="stt">raco ctool</span>:<span class="mywbr"> </span> Working with C Code</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="command.html" class="tocviewlink" pltdoc="x">Adding a <span class="stt">raco</span> Command</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>8&nbsp;</td><td><a href="setup.html" class="tocviewlink" pltdoc="x"><span class="stt">raco setup</span>:<span class="mywbr"> </span> Installation Management</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">8.1&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Running <span class="stt">raco setup</span></a></td></tr><tr><td align="right">8.2&nbsp;</td><td><a href="info_rkt.html" class="tocviewlink" pltdoc="x"><span class="stt">"info.rkt"</span> File Format</a></td></tr><tr><td align="right">8.3&nbsp;</td><td><a href="setup-plt-plt.html" class="tocviewlink" pltdoc="x">API for Installation</a></td></tr><tr><td align="right">8.4&nbsp;</td><td><a href="_plt-archives.html" class="tocviewlink" pltdoc="x">API for Installing <span class="stt">".plt"</span> Archives</a></td></tr><tr><td align="right">8.5&nbsp;</td><td><a href="dirs.html" class="tocviewlink" pltdoc="x">API for Finding Installation Directories</a></td></tr><tr><td align="right">8.6&nbsp;</td><td><a href="getinfo.html" class="tocviewlink" pltdoc="x">API for Reading <span class="stt">"info.rkt"</span> Files</a></td></tr><tr><td align="right">8.7&nbsp;</td><td><a href="relative-paths.html" class="tocviewlink" pltdoc="x">API for Relative Paths</a></td></tr><tr><td align="right">8.8&nbsp;</td><td><a href="xref.html" class="tocviewlink" pltdoc="x">API for Cross-<wbr></wbr>References for Installed Manuals</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>8.1&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Running <span class="stt">raco setup</span></a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">8.1.1&nbsp;</td><td><a href="#(part._setup-info)" class="tocviewlink" pltdoc="x">Controlling <span class="stt">raco setup</span> with <span class="stt">"info.rkt"</span> Files</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">8.1.1<tt>&nbsp;</tt></span><a href="#(part._setup-info)" class="tocsubseclink" pltdoc="x">Controlling <span class="stt">raco setup</span> with <span class="stt">"info.rkt"</span> Files</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="setup.html" title="backward to &quot;8 raco setup: Installation Management&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="setup.html" title="up to &quot;8 raco setup: Installation Management&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="info_rkt.html" title="forward to &quot;8.2 &quot;info.rkt&quot; File Format&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>8.1<tt>&nbsp;</tt><a name="(part._running)"></a>Running <span class="stt">raco setup</span></h4><p>The <span class="stt">raco setup</span> command performs two main services:</p><ul><li><p><span style="font-weight: bold">Compiling and setting up all (or some of the)
collections:</span> When <span class="stt">raco setup</span> is run without any arguments, it
finds all of the current collections (see <a href="../reference/collects.html" pltdoc="x">Libraries and Collections</a>) and compiles libraries in each collection.</p><p>An optional <span class="stt">"info.rkt"</span> within the collection can indicate
specifically how the collection&rsquo;s files are to be compiled and
other actions to take in setting up a collection, such as creating
executables or building documentation. See <a href="#(part._setup-info)" pltdoc="x">Controlling <span class="stt">raco setup</span> with <span class="stt">"info.rkt"</span> Files</a>
for more information.</p><p>The <span class="nobreak"><span class="stt">--clean</span></span> (or <span class="nobreak"><span class="stt">-c</span></span>) flag to <span class="stt">raco setup</span> causes it to
delete existing <span class="stt">".zo"</span> files, thus ensuring a clean build
from the source files. The exact set of deleted files can be
controlled by <span class="stt">"info.rkt"</span>; see
<a href="#(elem._clean)" pltdoc="x"><span class="RktSym">clean</span></a> for more information.</p><p>The <span class="nobreak"><span class="stt">--workers</span></span> (or <span class="nobreak"><span class="stt">-j</span></span>) flag to <span class="stt">raco setup</span> takes
an argument <span class="RktVar">n</span> to make compilation use up to <span class="RktVar">n</span>
parallel processes.  The default value of <span class="RktVar">n</span> is
<span class="RktPn">(</span><span class="RktSym"><a href="../reference/futures.html#(def._((lib._racket/future..rkt)._processor-count))" class="RktValLink" pltdoc="x">processor-count</a></span><span class="RktPn">)</span>, which typically uses all the machine&rsquo;s
processing cores.</p><p>The <span class="nobreak"><span class="stt">-l</span></span> flag takes one or more collection names and restricts
<span class="stt">raco setup</span>&rsquo;s action to those collections.</p><p>The <span class="nobreak"><span class="stt">--mode</span></span> &#8249;<span style="font-style: italic">mode</span>&#8250; flag causes <span class="stt">raco setup</span> to use a
<span class="stt">".zo"</span> compiler other than the default compiler, and to put
the resulting <span class="stt">".zo"</span> files in a subdirectory (of the usual
place) named by &#8249;<span style="font-style: italic">mode</span>&#8250;. The compiler is obtained by using
&#8249;<span style="font-style: italic">mode</span>&#8250; as a collection name, finding a
<span class="stt">"zo-compile.rkt"</span> module in that collection, and extracting
its <span class="RktSym">zo-compile</span> export. The <span class="RktSym">zo-compile</span> export
should be a function like <span class="RktSym"><a href="../reference/eval.html#(def._((quote._~23~25kernel)._compile))" class="RktValLink" pltdoc="x">compile</a></span>; see the
<span class="stt">"errortrace"</span> collection for an example.</p><p>When building <span class="stt">racket</span>, flags can be provided to <span class="stt">raco
setup</span> as run by <span class="stt">make install</span> by setting the
<a name="(idx._(gentag._10._(lib._scribblings/raco/raco..scrbl)))"></a><span class="stt">PLT_SETUP_OPTIONS</span> environment variable. For
example, the following command line uses a single process to build
collections during an install:</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">env PLT_SETUP_OPTIONS="-j 1" make install</span></p></li><li><p><span style="font-weight: bold">Unpacking <span class="stt">".plt"</span> files:</span> A
<span class="stt">".plt"</span> file is a platform-independent distribution archive
for software based on Racket. When one or more file names are
provided as the command line arguments to <span class="stt">raco setup</span>, the files
contained in the <span class="stt">".plt"</span> archive are unpacked (according to
specifications embedded in the <span class="stt">".plt"</span> file) and only
collections specified by the <span class="stt">".plt"</span> file are compiled and
setup.</p></li></ul><p>Run <span class="stt">raco help setup</span> to see a list of all options accepted by
the <span class="stt">raco setup</span> command.</p><h5>8.1.1<tt>&nbsp;</tt><a name="(part._setup-info)"></a>Controlling <span class="stt">raco setup</span> with <span class="stt">"info.rkt"</span> Files</h5><p>To compile a collection&rsquo;s files to bytecode, <span class="stt">raco setup</span> uses the
<span class="RktSym"><a href="API_for_Raw_Compilation.html#(def._((lib._compiler/compiler..rkt)._compile-collection-zos))" class="RktValLink" pltdoc="x">compile-collection-zos</a></span> procedure. That procedure, in turn,
consults the collection&rsquo;s <span class="stt">"info.rkt"</span> file, if it exists, for
specific instructions on compiling the collection. See
<span class="RktSym"><a href="API_for_Raw_Compilation.html#(def._((lib._compiler/compiler..rkt)._compile-collection-zos))" class="RktValLink" pltdoc="x">compile-collection-zos</a></span> for more information on the fields of
<span class="stt">"info.rkt"</span> that it uses, and see <a href="info_rkt.html" pltdoc="x"><span class="stt">"info.rkt"</span> File Format</a> for
information on the format of an <span class="stt">"info.rkt"</span> file.</p><p>Optional <span class="stt">"info.rkt"</span> fields trigger additional actions by
<span class="stt">raco setup</span>:</p><ul><li><p><a name="(idx._(gentag._11._(lib._scribblings/raco/raco..scrbl)))"></a><span class="RktSym">scribblings</span> : <span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._cons/c))" class="RktValLink" pltdoc="x">cons/c</a></span><span class="stt"> </span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="stt"> </span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span><span class="RktPn">)</span><span class="RktPn">)</span> &#8212;<wbr></wbr>
A list of documents to build. Each document in the list is itself
represented as a list, where each document&rsquo;s list starts with a
string that is a collection-relative path to the document&rsquo;s source
file.</p><p>More precisely a <span class="RktSym">scribblings</span> entry must be a value
that can be generated from an expression matching the following
<span class="RktSym"><a href="../scribble/xref.html#(def._((lib._scribble/xref..rkt)._entry))" class="RktValLink" pltdoc="x">entry</a></span> grammar:</p><p><table cellspacing="0"><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">entry</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVar">doc</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">doc</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVar">src-string</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVar">src-string</span><span class="hspace">&nbsp;</span><span class="RktVar">flags</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVar">src-string</span><span class="hspace">&nbsp;</span><span class="RktVar">flags</span><span class="hspace">&nbsp;</span><span class="RktVar">category</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVar">src-string</span><span class="hspace">&nbsp;</span><span class="RktVar">flags</span><span class="hspace">&nbsp;</span><span class="RktVar">category</span><span class="hspace">&nbsp;</span><span class="RktVar">name-string</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">flags</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVar">mode-symbol</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td></tr><tr><td align="right" valign="baseline"><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">category</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVar">category-symbol</span><span class="RktPn">)</span></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVar">category-symbol</span><span class="hspace">&nbsp;</span><span class="RktVar">sort-number</span><span class="RktPn">)</span></td></tr></table></p><p>A document&rsquo;s list optionally continues with information on how to
build the document. If a document&rsquo;s list contains a second item, it
must be a list of mode symbols (described below). If a document&rsquo;s
list contains a third item, it must be a list that categorizes the
document (described further below). If a document&rsquo;s list contains a
fourth item, it is a name to use for the generated documentation,
instead of defaulting to the source file&rsquo;s name (sans extension).</p><p>Each mode symbol in <span class="RktVar">flags</span> can be one of the following,
where only <span class="RktVal">'</span><span class="RktVal">multi-page</span> is commonly used:</p><ul><li><p><span class="RktVal">'</span><span class="RktVal">multi-page</span> : Generates multi-page HTML output,
instead of the default single-page format.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">main-doc</span> : Indicates that the generated
documentation should be written into the main installation
directory, instead of to a user-specific directory. This
mode is the default for a collection that is itself located
in the main installation.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">user-doc</span> : Indicates that the generated
documentation should be written a user-specific
directory. This mode is the default for a collection that
is not itself located in the main installation.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">depends-all</span> : Indicates that the document should
be re-built if any other document is rebuilt&#8212;<wbr></wbr>except for
documents that have the <span class="RktVal">'</span><span class="RktVal">no-depends-on</span> mode.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">depends-all-main</span> : Indicates that the document
should be re-built if any other document is rebuilt that is
installed into the main installation&#8212;<wbr></wbr>except for documents
that have the <span class="RktVal">'</span><span class="RktVal">no-depends-on</span> mode.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">always-run</span> : Build the document every time that
<span class="stt">raco setup</span> is run, even if none of its dependencies
change.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">no-depend-on</span> : Removes the document for
consideration for other dependencies. This mode is
typically used with <span class="RktVal">'</span><span class="RktVal">always-run</span> to avoid
unnecessary dependencies that prevent reaching a stable
point in building documentation.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">main-doc-root</span> : Designates the root document for
the main installation. The document that currently has this
mode should be the only one with the mode.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">user-doc-root</span> : Designates the root document for
the user-specific documentation directory. The document
that currently has this mode should be the only one with
the mode.</p></li></ul><p>The <span class="RktVar">category</span> list specifies how to show the document in
 the root table of contents. The list must start with a symbol,
 usually one of the following categories, which are ordered as
 below in the root documentation page:</p><ul><li><p><span class="RktVal">'</span><span class="RktVal">getting-started</span> : High-level, introductory
documentation.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">language</span> : Documentation for a prominent
programming language.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">tool</span> : Documentation for an executable.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">gui-library</span> : Documentation for GUI and graphics
libraries.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">net-library</span> : Documentation for networking
libraries.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">parsing-library</span> : Documentation for parsing
libraries.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">tool-library</span> : Documentation for programming-tool
libraries (i.e., not important enough for the more
prominent <span class="RktVal">'</span><span class="RktVal">tool</span> category).</p></li><li><p><span class="RktVal">'</span><span class="RktVal">interop</span> : Documentation for interoperability
tools and libraries.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">library</span> : Documentation for libraries; this
category is the default and used for unrecognized category
symbols.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">legacy</span> : Documentation for deprecated libraries,
languages, and tools.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">experimental</span> : Documentation for an experimental
language or library.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">other</span> : Other documentation.</p></li><li><p><span class="RktVal">'</span><span class="RktVal">omit</span> : Documentation that should not be listed on
the root page.</p></li></ul><p>If the category list has a second element, it must be a real number
that designates the manual&rsquo;s sorting position with the category;
manuals with the same sorting position are ordered
alphabetically. For a pair of manuals with sorting numbers
<span class="RktVar">n</span> and <span class="RktVar">m</span>, the groups for the manuals are
separated by space if <span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._truncate))" class="RktValLink" pltdoc="x">truncate</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._/))" class="RktValLink" pltdoc="x">/</a></span><span class="stt"> </span><span class="RktVar">n</span><span class="stt"> </span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span>and
<span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._truncate))" class="RktValLink" pltdoc="x">truncate</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._/))" class="RktValLink" pltdoc="x">/</a></span><span class="stt"> </span><span class="RktVar">m</span><span class="stt"> </span><span class="RktVal">10</span><span class="RktPn">)</span><span class="RktPn">)</span> are different.</p></li><li><p><span class="RktSym">racket-launcher-names</span> : <span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="stt"> </span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span>
&#8212;<wbr></wbr> <a name="(elem._racket-launcher-names)"></a> A list of executable names
to be generated in the installation&rsquo;s executable directory to run
Racket-based programs implemented by the collection. A parallel
list of library names must be provided by
<span class="RktSym">racket-launcher-libraries</span> or
<span class="RktSym">racket-launcher-flags</span>.</p><p>For each name, a launching executable is set up using
<span class="RktSym"><a href="exe.html#(def._((lib._launcher/launcher..rkt)._make-racket-launcher))" class="RktValLink" pltdoc="x">make-racket-launcher</a></span>.  The arguments are <span class="nobreak"><span class="stt">-l-</span></span> and
&#8249;<span style="font-style: italic">colls</span>&#8250;<span class="stt">/.../</span>&#8249;<span style="font-style: italic">file</span>&#8250;, where &#8249;<span style="font-style: italic">file</span>&#8250; is
the file named by <span class="RktSym">racket-launcher-libraries</span> and
&#8249;<span style="font-style: italic">colls</span>&#8250;<span class="stt">/...</span>  are the collections (and subcollections)
of the <span class="stt">"info.rkt"</span> file.</p><p>In addition,</p><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="exe.html#(def._((lib._launcher/launcher..rkt)._build-aux-from-path))" class="RktValLink" pltdoc="x">build-aux-from-path</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#(def._((quote._~23~25kernel)._build-path))" class="RktValLink" pltdoc="x">build-path</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/collects.html#(def._((lib._racket/private/base..rkt)._collection-path))" class="RktValLink" pltdoc="x">collection-path</a></span><span class="hspace">&nbsp;</span>&#8249;<span style="font-style: italic">colls</span>&#8250;<span class="hspace">&nbsp;</span><span class="RktVar">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&#8249;<span style="font-style: italic">suffixless-file</span>&#8250;<span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote><p>is provided for the optional <span class="RktVar">aux</span> argument (for icons,
etc.) to <span class="RktSym"><a href="exe.html#(def._((lib._launcher/launcher..rkt)._make-racket-launcher))" class="RktValLink" pltdoc="x">make-racket-launcher</a></span>, where where
&#8249;<span style="font-style: italic">suffixless-file</span>&#8250; is &#8249;<span style="font-style: italic">file</span>&#8250; without its suffix.</p><p>If <span class="RktSym">racket-launcher-flags</span> is provided, it is used as a
list of command-line arguments passed to <span class="stt">racket</span> instead of
the above default, allowing arbitrary command-line arguments. If
<span class="RktSym">racket-launcher-flags</span> is specified together with
<span class="RktSym">racket-launcher-libraries</span>, then the flags will override
the libraries, but the libraries can still be used to specify a
name for <span class="RktSym"><a href="exe.html#(def._((lib._launcher/launcher..rkt)._build-aux-from-path))" class="RktValLink" pltdoc="x">build-aux-from-path</a></span> (to find related information
like icon files etc).</p></li><li><p><span class="RktSym">racket-launcher-libraries</span> : <span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="stt"> </span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span><span class="RktPn">)</span> &#8212;<wbr></wbr> A list of library names in parallel to
<a href="#(elem._racket-launcher-names)" pltdoc="x"><span class="RktSym">racket-launcher-names</span></a>.</p></li><li><p><span class="RktSym">racket-launcher-flags</span> : <span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="stt"> </span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span>
&#8212;<wbr></wbr> A list of command-line flag lists, in parallel to
<a href="#(elem._racket-launcher-names)" pltdoc="x"><span class="RktSym">racket-launcher-names</span></a>.</p></li><li><p><span class="RktSym">mzscheme-launcher-names</span>,
<span class="RktSym">mzscheme-launcher-libraries</span>, and
<span class="RktSym">mzscheme-launcher-flags</span> &#8212;<wbr></wbr> Backward-compatible variant of
<span class="RktSym">racket-launcher-names</span>, etc.</p></li><li><p><span class="RktSym">gracket-launcher-names</span> : <span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="stt"> </span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span>  &#8212;<wbr></wbr>
<a name="(elem._gracket-launcher-names)"></a> Like
<a href="#(elem._racket-launcher-names)" pltdoc="x"><span class="RktSym">racket-launcher-names</span></a>,
but for GRacket-based executables. The launcher-name list is treated
in parallel to <span class="RktSym">gracket-launcher-libraries</span> and
<span class="RktSym">gracket-launcher-flags</span>.</p></li><li><p><span class="RktSym">gracket-launcher-libraries</span> : <span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="stt"> </span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span><span class="RktPn">)</span>
&#8212;<wbr></wbr> A list of library names in parallel to
<a href="#(elem._gracket-launcher-names)" pltdoc="x"><span class="RktSym">gracket-launcher-names</span></a>.</p></li><li><p><span class="RktSym">gracket-launcher-flags</span> : <span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="stt"> </span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span> &#8212;<wbr></wbr> A
list of command-line flag lists, in parallel to
<a href="#(elem._gracket-launcher-names)" pltdoc="x"><span class="RktSym">gracket-launcher-names</span></a>.</p></li><li><p><span class="RktSym">mred-launcher-names</span>,
<span class="RktSym">mred-launcher-libraries</span>, and
<span class="RktSym">mred-launcher-flags</span> &#8212;<wbr></wbr> Backward-compatible variant of
<span class="RktSym">gracket-launcher-names</span>, etc.</p></li><li><p><span class="RktSym">install-collection</span> : <span class="RktSym"><a href="../reference/Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span>  &#8212;<wbr></wbr> A
library module relative to the collection that provides
<span class="RktSym">installer</span>. The <span class="RktSym">installer</span> procedure accepts either
one or two arguments. The first argument is a directory path to the
parent of the Racket installation&rsquo;s <span class="stt">"collects"</span> directory; the
second argument, if accepted, is a path to the collection&rsquo;s own
directory. The procedure should perform collection-specific
installation work, and it should avoid unnecessary work in the case
that it is called multiple times for the same installation.</p></li><li><p><span class="RktSym">pre-install-collection</span> : <span class="RktSym"><a href="../reference/Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span> &#8212;<wbr></wbr>
Like <span class="RktSym">install-collection</span>, except that the corresponding
installer is called <span style="font-style: italic">before</span> the normal <span class="stt">".zo"</span> build,
instead of after. The provided procedure should be named
<span class="RktSym">pre-installer</span> in this case, so it can be provided by the
same file that provides an <span class="RktSym">installer</span>.</p></li><li><p><span class="RktSym">post-install-collection</span> : <span class="RktSym"><a href="../reference/Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span>  &#8212;<wbr></wbr>
Like <span class="RktSym">install-collection</span>. It is called right after the
<span class="RktSym">install-collection</span> procedure is executed. The only
difference between these is that the <span class="nobreak"><span class="stt">--no-install</span></span> flag can be
used to disable the previous two installers, but not this one.  It
is therefore expected to perform operations that are always needed,
even after an installation that contains pre-compiled files. The
provided procedure should be named <span class="RktSym">post-installer</span> in this
case, so it can be provided by the same file that provides the
previous two.</p></li><li><p><span class="RktSym">clean</span> : <span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="stt"> </span><span class="RktSym"><a href="../reference/Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span><span class="RktPn">)</span> &#8212;<wbr></wbr>
<a name="(elem._clean)"></a> A list of pathnames to be deleted when the
<span class="nobreak"><span class="stt">--clean</span></span> or <span class="nobreak"><span class="stt">-c</span></span> flag is passed to <span class="stt">raco setup</span>. The
pathnames must be relative to the collection. If any path names a
directory, each of the files in the directory are deleted, but none
of the subdirectories of the directory are checked. If the path
names a file, the file is deleted. The default, if this flag is not
specified, is to delete all files in the <span class="stt">"compiled"</span>
subdirectory, and all of the files in the platform-specific
subdirectory of the compiled directory for the current platform.</p><p>Just as compiling <span class="stt">".zo"</span> files will compile each module
used by a compiled module, deleting a module&rsquo;s compiled image will
delete the <span class="stt">".zo"</span> of each module that is used by the
module. More specifically, used modules are determined when
deleting a <span class="stt">".dep"</span> file, which would have been created to
accompany a <span class="stt">".zo"</span> file when the <span class="stt">".zo"</span> was built
by <span class="stt">raco setup</span>. If the <span class="stt">".dep"</span> file indicates another
module, that module&rsquo;s <span class="stt">".zo"</span> is deleted only if it also has
an accompanying <span class="stt">".dep"</span> file. In that case, the
<span class="stt">".dep"</span> file is deleted, and additional used modules are
deleted based on the used module&rsquo;s <span class="stt">".dep"</span> file, etc.
Supplying a specific list of collections to <span class="stt">raco setup</span> disables
this dependency-based deletion of compiled files.</p></li></ul><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="setup.html" title="backward to &quot;8 raco setup: Installation Management&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="setup.html" title="up to &quot;8 raco setup: Installation Management&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="info_rkt.html" title="forward to &quot;8.2 &quot;info.rkt&quot; File Format&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>