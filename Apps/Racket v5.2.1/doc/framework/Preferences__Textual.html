<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>27&nbsp;Preferences, Textual</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x">Framework:<span class="mywbr"> </span> Racket GUI Application Framework</a></td></tr></table></div><div class="tocviewsublistonly" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Framework_Libraries_Overview.html" class="tocviewlink" pltdoc="x">Framework Libraries Overview</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Application.html" class="tocviewlink" pltdoc="x">Application</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Autosave.html" class="tocviewlink" pltdoc="x">Autosave</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Canvas.html" class="tocviewlink" pltdoc="x">Canvas</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="Color_Model.html" class="tocviewlink" pltdoc="x">Color Model</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Color_Prefs.html" class="tocviewlink" pltdoc="x">Color Prefs</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="Color.html" class="tocviewlink" pltdoc="x">Color</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="Comment_Box.html" class="tocviewlink" pltdoc="x">Comment Box</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="Decorated_Editor_Snip.html" class="tocviewlink" pltdoc="x">Decorated Editor Snip</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="editor-snip.html" class="tocviewlink" pltdoc="x">Editor Snip</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Editor.html" class="tocviewlink" pltdoc="x">Editor</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="Exit.html" class="tocviewlink" pltdoc="x">Exit</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="Finder.html" class="tocviewlink" pltdoc="x">Finder</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="Frame.html" class="tocviewlink" pltdoc="x">Frame</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="Group.html" class="tocviewlink" pltdoc="x">Group</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="GUI_Utilities.html" class="tocviewlink" pltdoc="x">GUI Utilities</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="Handler.html" class="tocviewlink" pltdoc="x">Handler</a></td></tr><tr><td align="right">18&nbsp;</td><td><a href="Icon.html" class="tocviewlink" pltdoc="x">Icon</a></td></tr><tr><td align="right">19&nbsp;</td><td><a href="Keymap.html" class="tocviewlink" pltdoc="x">Keymap</a></td></tr><tr><td align="right">20&nbsp;</td><td><a href="Menu.html" class="tocviewlink" pltdoc="x">Menu</a></td></tr><tr><td align="right">21&nbsp;</td><td><a href="Mode.html" class="tocviewlink" pltdoc="x">Mode</a></td></tr><tr><td align="right">22&nbsp;</td><td><a href="Number_Snip.html" class="tocviewlink" pltdoc="x">Number Snip</a></td></tr><tr><td align="right">23&nbsp;</td><td><a href="Panel.html" class="tocviewlink" pltdoc="x">Panel</a></td></tr><tr><td align="right">24&nbsp;</td><td><a href="Pasteboard.html" class="tocviewlink" pltdoc="x">Pasteboard</a></td></tr><tr><td align="right">25&nbsp;</td><td><a href="Path_Utils.html" class="tocviewlink" pltdoc="x">Path Utils</a></td></tr><tr><td align="right">26&nbsp;</td><td><a href="Preferences.html" class="tocviewlink" pltdoc="x">Preferences</a></td></tr><tr><td align="right">27&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Preferences, Textual</a></td></tr><tr><td align="right">28&nbsp;</td><td><a href="Racket.html" class="tocviewlink" pltdoc="x">Racket</a></td></tr><tr><td align="right">29&nbsp;</td><td><a href="Text.html" class="tocviewlink" pltdoc="x">Text</a></td></tr><tr><td align="right">30&nbsp;</td><td><a href="Splash.html" class="tocviewlink" pltdoc="x">Splash</a></td></tr><tr><td align="right">31&nbsp;</td><td><a href="Test.html" class="tocviewlink" pltdoc="x">Test</a></td></tr><tr><td align="right">32&nbsp;</td><td><a href="Version.html" class="tocviewlink" pltdoc="x">Version</a></td></tr><tr><td align="right">33&nbsp;</td><td><a href="Backwards_Compatibility.html" class="tocviewlink" pltdoc="x">Backwards Compatibility</a></td></tr><tr><td align="right">34&nbsp;</td><td><a href="Signatures.html" class="tocviewlink" pltdoc="x">Signatures</a></td></tr><tr><td align="right">35&nbsp;</td><td><a href="Unit.html" class="tocviewlink" pltdoc="x">Unit</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aget))" class="tocsublink" pltdoc="x"><span title="Provided from: framework/preferences, framework"><span class="RktSym"><span class="RktValLink">preferences:<span class="mywbr"> </span>get</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset))" class="tocsublink" pltdoc="x"><span title="Provided from: framework/preferences, framework"><span class="RktSym"><span class="RktValLink">preferences:<span class="mywbr"> </span>set</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aadd-callback))" class="tocsublink" pltdoc="x"><span title="Provided from: framework/preferences, framework"><span class="RktSym"><span class="RktValLink">preferences:<span class="mywbr"> </span>add-<wbr></wbr>callback</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset-default))" class="tocsublink" pltdoc="x"><span title="Provided from: framework/preferences, framework"><span class="RktSym"><span class="RktValLink">preferences:<span class="mywbr"> </span>set-<wbr></wbr>default</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset-un/marshall))" class="tocsublink" pltdoc="x"><span title="Provided from: framework/preferences, framework"><span class="RktSym"><span class="RktValLink">preferences:<span class="mywbr"> </span>set-<wbr></wbr>un/<span class="mywbr"> </span>marshall</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._framework/preferences..rkt)._preferences~3arestore-defaults))" class="tocsublink" pltdoc="x"><span title="Provided from: framework/preferences, framework"><span class="RktSym"><span class="RktValLink">preferences:<span class="mywbr"> </span>restore-<wbr></wbr>defaults</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aregister-save-callback))" class="tocsublink" pltdoc="x"><span title="Provided from: framework/preferences, framework"><span class="RktSym"><span class="RktValLink">preferences:<span class="mywbr"> </span>register-<wbr></wbr>save-<wbr></wbr>callback</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aunregister-save-callback))" class="tocsublink" pltdoc="x"><span title="Provided from: framework/preferences, framework"><span class="RktSym"><span class="RktValLink">preferences:<span class="mywbr"> </span>unregister-<wbr></wbr>save-<wbr></wbr>callback</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._framework/preferences..rkt)._exn~3amake-unknown-preference))" class="tocsublink" pltdoc="x"><span title="Provided from: framework/preferences, framework"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> </span>make-<wbr></wbr>unknown-<wbr></wbr>preference</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._framework/preferences..rkt)._exn~3aunknown-preference~3f))" class="tocsublink" pltdoc="x"><span title="Provided from: framework/preferences, framework"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> </span>unknown-<wbr></wbr>preference?</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._framework/preferences..rkt)._exn~3astruct~3aunknown-preference))" class="tocsublink" pltdoc="x"><span title="Provided from: framework/preferences, framework"><span class="RktSym"><span class="RktValLink">exn:<span class="mywbr"> </span>struct:<span class="mywbr"> </span>unknown-<wbr></wbr>preference</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._framework/preferences..rkt)._preferences~3alow-level-put-preferences))" class="tocsublink" pltdoc="x"><span title="Provided from: framework/preferences, framework"><span class="RktSym"><span class="RktValLink">preferences:<span class="mywbr"> </span>low-<wbr></wbr>level-<wbr></wbr>put-<wbr></wbr>preferences</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._framework/preferences..rkt)._preferences~3alow-level-get-preference))" class="tocsublink" pltdoc="x"><span title="Provided from: framework/preferences, framework"><span class="RktSym"><span class="RktValLink">preferences:<span class="mywbr"> </span>low-<wbr></wbr>level-<wbr></wbr>get-<wbr></wbr>preference</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._framework/preferences..rkt)._preferences~3asnapshot~3f))" class="tocsublink" pltdoc="x"><span title="Provided from: framework/preferences, framework"><span class="RktSym"><span class="RktValLink">preferences:<span class="mywbr"> </span>snapshot?</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._framework/preferences..rkt)._preferences~3arestore-prefs-snapshot))" class="tocsublink" pltdoc="x"><span title="Provided from: framework/preferences, framework"><span class="RktSym"><span class="RktValLink">preferences:<span class="mywbr"> </span>restore-<wbr></wbr>prefs-<wbr></wbr>snapshot</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aget-prefs-snapshot))" class="tocsublink" pltdoc="x"><span title="Provided from: framework/preferences, framework"><span class="RktSym"><span class="RktValLink">preferences:<span class="mywbr"> </span>get-<wbr></wbr>prefs-<wbr></wbr>snapshot</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="Preferences.html" title="backward to &quot;26 Preferences&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Framework: Racket GUI Application Framework&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Racket.html" title="forward to &quot;28 Racket&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>27<tt>&nbsp;</tt><a name="(part._.Preferences__.Textual)"></a><a name="(mod-path._framework/preferences)"></a>Preferences, Textual</h3><p><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" pltdoc="x"><span class="RktSym">framework/preferences</span></a><span class="RktPn">)</span></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._framework/preferences..rkt)._preferences~3aget))"></a><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aget))" class="RktValLink" pltdoc="x">preferences:get</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">symbol</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">symbol</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">See also <span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset-default))" class="RktValLink" pltdoc="x">preferences:set-default</a></span>.</div></p><p><div class="SIntrapara"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aget))" class="RktValLink" pltdoc="x">preferences:get</a></span> returns the value for the preference
    <span class="RktVar">symbol</span>. It raises
    <a name="(idx._(gentag._42._(lib._scribblings/framework/framework..scrbl)))"></a><span class="RktSym">exn:unknown-preference</span>
    if the preference&rsquo;s default has not been set.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._framework/preferences..rkt)._preferences~3aset))"></a><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset))" class="RktValLink" pltdoc="x">preferences:set</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">symbol</span><span class="hspace">&nbsp;</span><span class="RktVar">value</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">symbol</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Sets the preference
<span class="RktVar">symbol</span> to <span class="RktVar">value</span>. It should be called when the
users requests a change to a preference.</div></p><p><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset))" class="RktValLink" pltdoc="x">preferences:set</a></span> immediately writes the preference value to disk.
It raises
<a name="(idx._(gentag._43._(lib._scribblings/framework/framework..scrbl)))"></a><span class="RktSym">exn:unknown-preference</span>
if the preference&rsquo;s default has not been set.</p><p><div class="SIntrapara">See also <span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset-default))" class="RktValLink" pltdoc="x">preferences:set-default</a></span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._framework/preferences..rkt)._preferences~3aadd-callback))"></a><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aadd-callback))" class="RktValLink" pltdoc="x">preferences:add-callback</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span><span class="RktVar">f</span><span class="hspace">&nbsp;</span>[<span class="RktVar">weak?</span>]<span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">p</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">f</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">procedure-with-arity2?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._and))" class="RktStxLink" pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/procedures.html#(def._((quote._~23~25kernel)._procedure~3f))" class="RktValLink" pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/procedures.html#(def._((quote._~23~25kernel)._procedure-arity-includes~3f))" class="RktValLink" pltdoc="x">procedure-arity-includes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">procedure-with-arity2?</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">weak?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">This function adds a callback which is called with a symbol naming a
preference and its value, when the preference changes.
<span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aadd-callback))" class="RktValLink" pltdoc="x">preferences:add-callback</a></span> returns a thunk, which when
invoked, removes the callback from this preference.</div></p><p>If <span class="RktVar">weak?</span> is true, the preferences system will only hold on to
the callback weakly.</p><p>The callbacks will be called in the order in which they were added.</p><p>If you are adding a callback for a preference that requires
marshalling and unmarshalling, you must set the marshalling and
unmarshalling functions by calling
<span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset-un/marshall))" class="RktValLink" pltdoc="x">preferences:set-un/marshall</a></span> before adding a callback.</p><p><div class="SIntrapara">This function raises
<a name="(idx._(gentag._44._(lib._scribblings/framework/framework..scrbl)))"></a><span class="RktSym">exn:unknown-preference</span>
<span class="RktSym">exn:unknown-preference</span>
if the preference has not been set.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(def._((lib._framework/preferences..rkt)._preferences~3aset-default))"></a><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset-default))" class="RktValLink" pltdoc="x">preferences:set-default</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">symbol</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">value</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">test</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:aliases</span><span class="hspace">&nbsp;</span><span class="RktVar">aliases</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:rewrite-aliases</span><span class="hspace">&nbsp;</span><span class="RktVar">rewrite-aliases</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">symbol</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">test</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(form._((lib._racket/contract/private/misc..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">aliases</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">rewrite-aliases</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(form._((lib._racket/contract/private/misc..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td>=</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((lib._racket/private/map..rkt)._map))" class="RktValLink" pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/values.html#(def._((quote._~23~25kernel)._values))" class="RktValLink" pltdoc="x">values</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">aliases</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">This function must be called every time your application starts up, before
any call to <span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aget))" class="RktValLink" pltdoc="x">preferences:get</a></span> or <span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset))" class="RktValLink" pltdoc="x">preferences:set</a></span>
(for any given preference).</div></p><p>If you use <span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset-un/marshall))" class="RktValLink" pltdoc="x">preferences:set-un/marshall</a></span>,
you must call this function before calling it.</p><p>This sets the default value of the preference <span class="RktVar">symbol</span> to
<span class="RktVar">value</span>. If the user has chosen a different setting,
the user&rsquo;s setting will take precedence over the default value.</p><p>The <span class="RktVar">test</span> argument is used as a safeguard. That function is
called to determine if a preference read in from a file is a valid
preference. If <span class="RktVar">test</span> returns <span class="RktVal">#t</span>, then the preference is
treated as valid. If <span class="RktVar">test</span> returns <span class="RktVal">#f</span> then the default is
used.</p><p><div class="SIntrapara">The <span class="RktVar">aliases</span> and <span class="RktVar">rewrite-aliases</span> arguments aids
in renaming preferences. If <span class="RktVar">aliases</span> is present, it is
expected to be a list of symbols that correspond to old versions
of the preferences. It defaults to <span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span>. If <span class="RktVar">rewrite-aliases</span>
is present, it is used to adjust the old values of the preferences
when they are present in the saved file.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(def._((lib._framework/preferences..rkt)._preferences~3aset-un/marshall))"></a><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset-un/marshall))" class="RktValLink" pltdoc="x">preferences:set-un/marshall</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">symbol</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">marshall</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">unmarshall</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">symbol</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">marshall</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._printable/c))" class="RktValLink" pltdoc="x">printable/c</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">unmarshall</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._printable/c))" class="RktValLink" pltdoc="x">printable/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset-un/marshall))" class="RktValLink" pltdoc="x">preferences:set-un/marshall</a></span> is used to specify marshalling and
unmarshalling functions for the preference
<span class="RktVar">symbol</span>. <span class="RktVar">marshall</span> will be called when the users saves their
preferences to turn the preference value for <span class="RktVar">symbol</span> into a
printable value. <span class="RktVar">unmarshall</span> will be called when the user&rsquo;s
preferences are read from the file to transform the printable value
into its internal representation. If <span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset-un/marshall))" class="RktValLink" pltdoc="x">preferences:set-un/marshall</a></span>
is never called for a particular preference, the values of that
preference are assumed to be printable.</div></p><p>If the unmarshalling function returns a value that does not meet the
guard passed to <span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset-default))" class="RktValLink" pltdoc="x">preferences:set-default</a></span>
for this preference, the default value is used.</p><p>The <span class="RktVar">marshall</span> function might be called with any value returned
from <span class="RktSym"><a href="../reference/Reading.html#(def._((quote._~23~25kernel)._read))" class="RktValLink" pltdoc="x">read</a></span> and it must not raise an error
(although it can return arbitrary results if it gets bad input). This might
happen when the preferences file becomes corrupted, or is edited
by hand.</p><p><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset-un/marshall))" class="RktValLink" pltdoc="x">preferences:set-un/marshall</a></span> must be called before calling
<span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aget))" class="RktValLink" pltdoc="x">preferences:get</a></span>,<span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset))" class="RktValLink" pltdoc="x">preferences:set</a></span>.</p><p><div class="SIntrapara">See also <span class="RktSym"><a href="../reference/serialization.html#(def._((lib._racket/private/serialize..rkt)._serialize))" class="RktValLink" pltdoc="x">serialize</a></span> and <span class="RktSym"><a href="../reference/serialization.html#(def._((lib._racket/private/serialize..rkt)._deserialize))" class="RktValLink" pltdoc="x">deserialize</a></span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._framework/preferences..rkt)._preferences~3arestore-defaults))"></a><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3arestore-defaults))" class="RktValLink" pltdoc="x">preferences:restore-defaults</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr></table></blockquote></div><div class="SIntrapara"><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3arestore-defaults))" class="RktValLink" pltdoc="x">preferences:restore-defaults</a></span><span class="RktPn">)</span> restores the users&rsquo; configuration
to the default preferences.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._framework/preferences..rkt)._preferences~3aregister-save-callback))"></a><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aregister-save-callback))" class="RktValLink" pltdoc="x">preferences:register-save-callback</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">callback</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">callback</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(form._((lib._racket/contract/private/misc..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Registers <span class="RktVar">callback</span> to run twice for each call to <span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset))" class="RktValLink" pltdoc="x">preferences:set</a></span>&#8212;<wbr></wbr>once
          before the preferences file is written, with <span class="RktVal">#t</span>, and once after it is written, with
          <span class="RktVal">#f</span>. Registration returns a key for use with <span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aunregister-save-callback))" class="RktValLink" pltdoc="x">preferences:unregister-save-callback</a></span>.
          Caveats:
          </div><div class="SIntrapara"><ul><li><p>The callback occurs on whichever thread happened to call <span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset))" class="RktValLink" pltdoc="x">preferences:set</a></span>.</p></li><li><p>Pre- and post-write notifications are not necessarily paired; unregistration
may cancel the post-write notification before it occurs.</p></li></ul></div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._framework/preferences..rkt)._preferences~3aunregister-save-callback))"></a><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aunregister-save-callback))" class="RktValLink" pltdoc="x">preferences:unregister-save-callback</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">key</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">key</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Unregisters the save callback associated with <span class="RktVar">key</span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(def._((lib._framework/preferences..rkt)._exn~3amake-unknown-preference))"></a><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._exn~3amake-unknown-preference))" class="RktValLink" pltdoc="x">exn:make-unknown-preference</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">message</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">continuation-marks</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._exn~3aunknown-preference~3f))" class="RktValLink" pltdoc="x">exn:unknown-preference?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">continuation-marks</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/contmarks.html#(def._((quote._~23~25kernel)._continuation-mark-set~3f))" class="RktValLink" pltdoc="x">continuation-mark-set?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Creates an unknown preference exception.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._framework/preferences..rkt)._exn~3aunknown-preference~3f))"></a><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._exn~3aunknown-preference~3f))" class="RktValLink" pltdoc="x">exn:unknown-preference?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">exn</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">exn</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Determines if a value is an unknown preference exn.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><a name="(def._((lib._framework/preferences..rkt)._exn~3astruct~3aunknown-preference))"></a><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._exn~3astruct~3aunknown-preference))" class="RktValLink" pltdoc="x">exn:struct:unknown-preference</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/structutils.html#(def._((quote._~23~25kernel)._struct-type~3f))" class="RktValLink" pltdoc="x">struct-type?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">The struct type for the unknown preference exn.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._framework/preferences..rkt)._preferences~3alow-level-put-preferences))"></a><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3alow-level-put-preferences))" class="RktValLink" pltdoc="x">preferences:low-level-put-preferences</a></span></span><span class="RktPn"></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(form._((lib._racket/contract/private/misc..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3alow-level-put-preferences))" class="RktValLink" pltdoc="x">preferences:low-level-put-preferences</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">put-preferences</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">put-preferences</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(form._((lib._racket/contract/private/misc..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">This parameter&rsquo;s value is called to save preference the preferences file.
Its interface should be just like mzlib&rsquo;s <span class="RktVar">put-preferences</span>.</div></p><p><div class="SIntrapara">The default value calls <span class="RktVar">put-preferences</span> and, if there is an error,
then starts using a hash-table to save the preferences instead.
See also </div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._framework/preferences..rkt)._preferences~3alow-level-get-preference))"></a><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3alow-level-get-preference))" class="RktValLink" pltdoc="x">preferences:low-level-get-preference</a></span></span><span class="RktPn"></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e*))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span>*</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(form._((lib._racket/contract/private/misc..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(form._((lib._racket/contract/private/misc..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3alow-level-get-preference))" class="RktValLink" pltdoc="x">preferences:low-level-get-preference</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">get-preference</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">get-preference</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e*))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span>*</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(form._((lib._racket/contract/private/misc..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(form._((lib._racket/contract/private/misc..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">This parameter&rsquo;s value is called to get a preference from the preferences
file. Its interface should be just like <span class="RktVar">get-preference</span>.</div></p><p><div class="SIntrapara">The default value calls <span class="RktSym">get-preferences</span> and, if there is an error,
then starts using a hash-table to save the preferences instead.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._framework/preferences..rkt)._preferences~3asnapshot~3f))"></a><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3asnapshot~3f))" class="RktValLink" pltdoc="x">preferences:snapshot?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">arg</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">arg</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Determines if its argument is a preferences snapshot.</div></p><p><div class="SIntrapara">See also <span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aget-prefs-snapshot))" class="RktValLink" pltdoc="x">preferences:get-prefs-snapshot</a></span> and
<span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3arestore-prefs-snapshot))" class="RktValLink" pltdoc="x">preferences:restore-prefs-snapshot</a></span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._framework/preferences..rkt)._preferences~3arestore-prefs-snapshot))"></a><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3arestore-prefs-snapshot))" class="RktValLink" pltdoc="x">preferences:restore-prefs-snapshot</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">snapshot</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">snapshot</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3asnapshot~3f))" class="RktValLink" pltdoc="x">preferences:snapshot?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Restores the preferences saved in <span class="RktVar">snapshot</span>.</div></p><p><div class="SIntrapara">See also <span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aget-prefs-snapshot))" class="RktValLink" pltdoc="x">preferences:get-prefs-snapshot</a></span>.</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._framework/preferences..rkt)._preferences~3aget-prefs-snapshot))"></a><span title="Provided from: framework/preferences, framework"><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aget-prefs-snapshot))" class="RktValLink" pltdoc="x">preferences:get-prefs-snapshot</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3asnapshot~3f))" class="RktValLink" pltdoc="x">preferences:snapshot?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Caches all of the current values of the preferences and returns them.
For any preference that has marshalling and unmarshalling set
(see <span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3aset-un/marshall))" class="RktValLink" pltdoc="x">preferences:set-un/marshall</a></span>), the preference value is
copied by passing it through the marshalling and unmarshalling process.
Other values are not copied, but references to them are instead saved.</div></p><p>See also <span class="RktSym"><a href="#(def._((lib._framework/preferences..rkt)._preferences~3arestore-prefs-snapshot))" class="RktValLink" pltdoc="x">preferences:restore-prefs-snapshot</a></span>.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="Preferences.html" title="backward to &quot;26 Preferences&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Framework: Racket GUI Application Framework&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Racket.html" title="forward to &quot;28 Racket&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>