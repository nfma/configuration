<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>4&nbsp;HTTP: Hypertext Transfer Protocol</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9660;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x">Web Applications in Racket</a></td></tr></table></div><div class="tocviewsublisttop" style="display: block;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="run.html" class="tocviewlink" pltdoc="x">Running Web Servlets</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="servlet.html" class="tocviewlink" pltdoc="x">Stateful Servlets</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="stateless.html" class="tocviewlink" pltdoc="x">Stateless Servlets</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">HTTP:<span class="mywbr"> </span> Hypertext Transfer Protocol</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="dispatch.html" class="tocviewlink" pltdoc="x">URL-<wbr></wbr>Based Dispatch</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="formlets.html" class="tocviewlink" pltdoc="x">Formlets:<span class="mywbr"> </span> Functional Form Abstraction</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="templates.html" class="tocviewlink" pltdoc="x">Templates:<span class="mywbr"> </span> Separation of View</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="page.html" class="tocviewlink" pltdoc="x">Page:<span class="mywbr"> </span> Short-<wbr></wbr>hand for Common Patterns</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="test.html" class="tocviewlink" pltdoc="x">Testing Servlets</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="faq.html" class="tocviewlink" pltdoc="x">Troubleshooting and Tips</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>4&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">HTTP:<span class="mywbr"> </span> Hypertext Transfer Protocol</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">4.1&nbsp;</td><td><a href="#(part._request-structs)" class="tocviewlink" pltdoc="x">Requests</a></td></tr><tr><td align="right">4.2&nbsp;</td><td><a href="#(part._bindings)" class="tocviewlink" pltdoc="x">Bindings</a></td></tr><tr><td align="right">4.3&nbsp;</td><td><a href="#(part._response-structs)" class="tocviewlink" pltdoc="x">Responses</a></td></tr><tr><td align="right">4.4&nbsp;</td><td><a href="#(part._cookie)" class="tocviewlink" pltdoc="x">Placing Cookies</a></td></tr><tr><td align="right">4.5&nbsp;</td><td><a href="#(part._cookie-parse)" class="tocviewlink" pltdoc="x">Extracting Cookies</a></td></tr><tr><td align="right">4.6&nbsp;</td><td><a href="#(part._redirect)" class="tocviewlink" pltdoc="x">Redirect</a></td></tr><tr><td align="right">4.7&nbsp;</td><td><a href="#(part._basic-auth)" class="tocviewlink" pltdoc="x">Basic Authentication</a></td></tr><tr><td align="right">4.8&nbsp;</td><td><a href="#(part._digest-auth)" class="tocviewlink" pltdoc="x">Digest Authentication</a></td></tr><tr><td align="right">4.9&nbsp;</td><td><a href="#(part._xexpr)" class="tocviewlink" pltdoc="x">X-<wbr></wbr>expression Support</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#(part._request-structs)" class="tocsubseclink" pltdoc="x">Requests</a></td></tr><tr><td><a href="#(def._((lib._web-server/http/request-structs..rkt)._header))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><span class="RktValLink">header</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/request-structs..rkt)._headers-assq))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><span class="RktValLink">headers-<wbr></wbr>assq</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/request-structs..rkt)._headers-assq*))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><span class="RktValLink">headers-<wbr></wbr>assq*</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/request-structs..rkt)._binding))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><span class="RktValLink">binding</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/request-structs..rkt)._binding~3aform))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><span class="RktValLink">binding:<span class="mywbr"> </span>form</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/request-structs..rkt)._binding~3afile))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><span class="RktValLink">binding:<span class="mywbr"> </span>file</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/request-structs..rkt)._bindings-assq))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><span class="RktValLink">bindings-<wbr></wbr>assq</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/request-structs..rkt)._request))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><span class="RktValLink">request</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/request-structs..rkt)._request-bindings/raw))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><span class="RktValLink">request-<wbr></wbr>bindings/<span class="mywbr"> </span>raw</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.2<tt>&nbsp;</tt></span><a href="#(part._bindings)" class="tocsubseclink" pltdoc="x">Bindings</a></td></tr><tr><td><a href="#(def._((lib._web-server/http/bindings..rkt)._request-bindings))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/bindings"><span class="RktSym"><span class="RktValLink">request-<wbr></wbr>bindings</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/bindings..rkt)._request-headers))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/bindings"><span class="RktSym"><span class="RktValLink">request-<wbr></wbr>headers</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/bindings..rkt)._extract-binding/single))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/bindings"><span class="RktSym"><span class="RktValLink">extract-<wbr></wbr>binding/<span class="mywbr"> </span>single</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/bindings..rkt)._extract-bindings))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/bindings"><span class="RktSym"><span class="RktValLink">extract-<wbr></wbr>bindings</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/bindings..rkt)._exists-binding~3f))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/bindings"><span class="RktSym"><span class="RktValLink">exists-<wbr></wbr>binding?</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.3<tt>&nbsp;</tt></span><a href="#(part._response-structs)" class="tocsubseclink" pltdoc="x">Responses</a></td></tr><tr><td><a href="#(def._((lib._web-server/http/response-structs..rkt)._response))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/response-structs"><span class="RktSym"><span class="RktValLink">response</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/response-structs..rkt)._response/full))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/response-structs"><span class="RktSym"><span class="RktValLink">response/<span class="mywbr"> </span>full</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/response-structs..rkt)._.T.E.X.T/.H.T.M.L-.M.I.M.E-.T.Y.P.E))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/response-structs"><span class="RktSym"><span class="RktValLink">TEXT/<span class="mywbr"> </span>HTML-<wbr></wbr>MIME-<wbr></wbr>TYPE</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.4<tt>&nbsp;</tt></span><a href="#(part._cookie)" class="tocsubseclink" pltdoc="x">Placing Cookies</a></td></tr><tr><td><a href="#(def._((lib._web-server/http/cookie..rkt)._make-cookie))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/cookie"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>cookie</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/cookie..rkt)._cookie-~3eheader))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/cookie"><span class="RktSym"><span class="RktValLink">cookie-<wbr></wbr>&gt;header</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.5<tt>&nbsp;</tt></span><a href="#(part._cookie-parse)" class="tocsubseclink" pltdoc="x">Extracting Cookies</a></td></tr><tr><td><a href="#(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/cookie-parse"><span class="RktSym"><span class="RktValLink">client-<wbr></wbr>cookie</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/cookie-parse..rkt)._request-cookies))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/cookie-parse"><span class="RktSym"><span class="RktValLink">request-<wbr></wbr>cookies</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.6<tt>&nbsp;</tt></span><a href="#(part._redirect)" class="tocsubseclink" pltdoc="x">Redirect</a></td></tr><tr><td><a href="#(def._((lib._web-server/http/redirect..rkt)._redirect-to))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/redirect"><span class="RktSym"><span class="RktValLink">redirect-<wbr></wbr>to</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/redirect..rkt)._redirection-status~3f))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/redirect"><span class="RktSym"><span class="RktValLink">redirection-<wbr></wbr>status?</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/redirect..rkt)._permanently))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/redirect"><span class="RktSym"><span class="RktValLink">permanently</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/redirect..rkt)._temporarily))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/redirect"><span class="RktSym"><span class="RktValLink">temporarily</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/redirect..rkt)._see-other))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/redirect"><span class="RktSym"><span class="RktValLink">see-<wbr></wbr>other</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.7<tt>&nbsp;</tt></span><a href="#(part._basic-auth)" class="tocsubseclink" pltdoc="x">Basic Authentication</a></td></tr><tr><td><a href="#(def._((lib._web-server/http/basic-auth..rkt)._make-basic-auth-header))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/basic-auth"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>basic-<wbr></wbr>auth-<wbr></wbr>header</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/basic-auth..rkt)._request-~3ebasic-credentials))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/basic-auth"><span class="RktSym"><span class="RktValLink">request-<wbr></wbr>&gt;basic-<wbr></wbr>credentials</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.8<tt>&nbsp;</tt></span><a href="#(part._digest-auth)" class="tocsubseclink" pltdoc="x">Digest Authentication</a></td></tr><tr><td><a href="#(def._((lib._web-server/http/digest-auth..rkt)._make-digest-auth-header))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/digest-auth"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>digest-<wbr></wbr>auth-<wbr></wbr>header</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/digest-auth..rkt)._request-~3edigest-credentials))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/digest-auth"><span class="RktSym"><span class="RktValLink">request-<wbr></wbr>&gt;digest-<wbr></wbr>credentials</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/digest-auth..rkt)._username*realm-~3epassword/c))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/digest-auth"><span class="RktSym"><span class="RktValLink">username*realm-<wbr></wbr>&gt;password/<span class="mywbr"> </span>c</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/digest-auth..rkt)._username*realm-~3edigest-.H.A1/c))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/digest-auth"><span class="RktSym"><span class="RktValLink">username*realm-<wbr></wbr>&gt;digest-<wbr></wbr>HA1/<span class="mywbr"> </span>c</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/digest-auth..rkt)._password-~3edigest-.H.A1))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/digest-auth"><span class="RktSym"><span class="RktValLink">password-<wbr></wbr>&gt;digest-<wbr></wbr>HA1</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._web-server/http/digest-auth..rkt)._make-check-digest-credentials))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/digest-auth"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>check-<wbr></wbr>digest-<wbr></wbr>credentials</span></span></span></a></td></tr><tr><td><span class="tocsublinknumber">4.9<tt>&nbsp;</tt></span><a href="#(part._xexpr)" class="tocsubseclink" pltdoc="x">X-<wbr></wbr>expression Support</a></td></tr><tr><td><a href="#(def._((lib._web-server/http/xexpr..rkt)._response/xexpr))" class="tocsubnonseclink" pltdoc="x"><span title="Provided from: web-server/http/xexpr"><span class="RktSym"><span class="RktValLink">response/<span class="mywbr"> </span>xexpr</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="stateless.html" title="backward to &quot;3 Stateless Servlets&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Web Applications in Racket&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="dispatch.html" title="forward to &quot;5 URL-Based Dispatch&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h3>4<tt>&nbsp;</tt><a name="(part._http)"></a><a name="(mod-path._web-server/http)"></a>HTTP: Hypertext Transfer Protocol</h3><p><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" pltdoc="x"><span class="RktSym">web-server/http</span></a><span class="RktPn">)</span></td></tr></table></p><p>The Web Server implements many HTTP libraries that are provided by this module.</p><h4>4.1<tt>&nbsp;</tt><a name="(part._request-structs)"></a><a name="(mod-path._web-server/http/request-structs)"></a>Requests</h4><p><div class="SIntrapara"><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="stt"> </span><a href="#(mod-path._web-server/http/request-structs)" class="RktModLink" pltdoc="x"><span class="RktSym">web-server/http/request-structs</span></a><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><table cellspacing="0"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._web-server/http/request-structs..rkt)._header-value))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._header-field))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._make-header))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._header~3f))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._struct~3aheader))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._header))"></a><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._header))" class="RktValLink" pltdoc="x">header</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">field</span><span class="stt"> </span><span class="RktSym">value</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._make-header))" class="RktValLink" pltdoc="x">make-header</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">field</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Represents a header of <span class="RktSym">field</span> to <span class="RktSym">value</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/request-structs..rkt)._headers-assq))"></a><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._headers-assq))" class="RktValLink" pltdoc="x">headers-assq</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">heads</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._header~3f))" class="RktValLink" pltdoc="x">header?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">heads</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._header~3f))" class="RktValLink" pltdoc="x">header?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the header with a field equal to <span class="RktVar">id</span> from <span class="RktVar">heads</span> or <span class="RktVal">#f</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/request-structs..rkt)._headers-assq*))"></a><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._headers-assq*))" class="RktValLink" pltdoc="x">headers-assq*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">heads</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._header~3f))" class="RktValLink" pltdoc="x">header?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">heads</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._header~3f))" class="RktValLink" pltdoc="x">header?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the header with a field case-insensitively equal to <span class="RktVar">id</span> from <span class="RktVar">heads</span> or <span class="RktVal">#f</span>.</div></p></div><div class="SIntrapara">You almost <span style="font-weight: bold">always</span> want to use this, rather than <span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._headers-assq))" class="RktValLink" pltdoc="x">headers-assq</a></span> because Web browsers may send headers with arbitrary casing.</div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><table cellspacing="0"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._web-server/http/request-structs..rkt)._binding-id))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._make-binding))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3f))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._struct~3abinding))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._binding))"></a><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._binding))" class="RktValLink" pltdoc="x">binding</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">id</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._make-binding))" class="RktValLink" pltdoc="x">make-binding</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Represents a binding of <span class="RktSym">id</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><table cellspacing="0"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3aform-value))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._make-binding~3aform))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3aform~3f))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._struct~3abinding~3aform))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3aform))"></a><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._binding~3aform))" class="RktValLink" pltdoc="x">binding:form</a></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._binding))" class="RktValLink" pltdoc="x">binding</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">value</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._make-binding~3aform))" class="RktValLink" pltdoc="x">make-binding:form</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Represents a form binding of <span class="RktSym">id</span> to <span class="RktSym">value</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><table cellspacing="0"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3afile-content))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3afile-headers))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3afile-filename))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._make-binding~3afile))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3afile~3f))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._struct~3abinding~3afile))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._binding~3afile))"></a><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._binding~3afile))" class="RktValLink" pltdoc="x">binding:file</a></span></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._binding))" class="RktValLink" pltdoc="x">binding</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">filename</span><span class="stt"> </span><span class="RktSym">headers</span><span class="stt"> </span><span class="RktSym">content</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._make-binding~3afile))" class="RktValLink" pltdoc="x">make-binding:file</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">filename</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._header~3f))" class="RktValLink" pltdoc="x">header?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">content</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Represents the uploading of the file <span class="RktSym">filename</span> with the id <span class="RktSym">id</span>
and the content <span class="RktSym">content</span>, where <span class="RktSym">headers</span> are the additional headers from
the MIME envelope the file was in. (For example, the <span class="RktVal">#"Content-Type"</span> header may
be included by some browsers.)</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/request-structs..rkt)._bindings-assq))"></a><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._bindings-assq))" class="RktValLink" pltdoc="x">bindings-assq</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">binds</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._binding~3f))" class="RktValLink" pltdoc="x">binding?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">binds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._binding~3f))" class="RktValLink" pltdoc="x">binding?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the binding with an id equal to <span class="RktVar">id</span> from <span class="RktVar">binds</span> or <span class="RktVal">#f</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><table cellspacing="0"><colgroup><col width="0*" /><col width="0*" /><col width="0*" /><col width="0*" /><col /></colgroup><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="nobreak"><a name="(def._((lib._web-server/http/request-structs..rkt)._request-client-ip))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request-host-port))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request-host-ip))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request-post-data/raw))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request-bindings/raw-promise))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request-headers/raw))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request-uri))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request-method))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._make-request))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request~3f))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._struct~3arequest))"></a><a name="(def._((lib._web-server/http/request-structs..rkt)._request))"></a><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._request))" class="RktValLink" pltdoc="x">request</a></span></span></span></td><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span></td><td><span class="nobreak"><span class="RktSym">method</span></span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">uri</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">headers/raw</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">bindings/raw-promise</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">post-data/raw</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">host-ip</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">host-port</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym">client-ip</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td colspan="3"><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._make-request))" class="RktValLink" pltdoc="x">make-request</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">method</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">uri</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../net/url.html#(def._((lib._net/url-structs..rkt)._url~3f))" class="RktValLink" pltdoc="x">url?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">headers/raw</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._header~3f))" class="RktValLink" pltdoc="x">header?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">bindings/raw-promise</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(form._((lib._racket/contract/private/misc..rkt)._promise/c))" class="RktStxLink" pltdoc="x">promise/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._binding~3f))" class="RktValLink" pltdoc="x">binding?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">post-data/raw</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">host-ip</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">host-port</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">client-ip</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">An HTTP <span class="RktSym">method</span> request to <span class="RktSym">uri</span> from <span class="RktSym">client-ip</span>
to the server at <span class="RktSym">host-ip</span>:<span class="RktSym">host-port</span> with <span class="RktSym">headers/raw</span>
headers, <span class="RktSym">bindings/raw</span> GET and POST queries and <span class="RktSym">post-data/raw</span>
POST data.</div></p></div><div class="SIntrapara">You are <span style="font-weight: bold">unlikely to need to construct</span> a request struct.</div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/request-structs..rkt)._request-bindings/raw))"></a><span title="Provided from: web-server/http/request-structs"><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._request-bindings/raw))" class="RktValLink" pltdoc="x">request-bindings/raw</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">r</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._binding~3f))" class="RktValLink" pltdoc="x">binding?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">r</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._request~3f))" class="RktValLink" pltdoc="x">request?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Forces <span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._request-bindings/raw-promise))" class="RktValLink" pltdoc="x">request-bindings/raw-promise</a></span><span class="stt"> </span><span class="RktVar">r</span><span class="RktPn">)</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara">Here is an example typical of what you will find in many applications:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">get-number</span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/match.html#(form._((lib._racket/match..rkt)._match))" class="RktStxLink" pltdoc="x">match</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._bindings-assq))" class="RktValLink" pltdoc="x">bindings-assq</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#"number"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._request-bindings/raw))" class="RktValLink" pltdoc="x">request-bindings/raw</a></span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">?</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._binding~3aform~3f))" class="RktValLink" pltdoc="x">binding:form?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._string-~3enumber))" class="RktValLink" pltdoc="x">string-&gt;number</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes-~3estring/utf-8))" class="RktValLink" pltdoc="x">bytes-&gt;string/utf-8</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._binding~3aform-value))" class="RktValLink" pltdoc="x">binding:form-value</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="../reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt).__))" class="RktStxLink" pltdoc="x">_</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">get-number</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">request-number</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div></p><h4>4.2<tt>&nbsp;</tt><a name="(part._bindings)"></a><a name="(mod-path._web-server/http/bindings)"></a>Bindings</h4><p><div class="SIntrapara"><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="stt"> </span><a href="#(mod-path._web-server/http/bindings)" class="RktModLink" pltdoc="x"><span class="RktSym">web-server/http/bindings</span></a><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">These functions, while convenient, could introduce subtle bugs into your
application. Examples: that they are case-insensitive could introduce
a bug; if the data submitted is not in UTF-8 format, then the conversion
to a string will fail; if an attacker submits a form field as if it were
a file, when it is not, then the <span class="RktSym"><a href="../continue/index.html#(def._((lib._web-server/servlet..rkt)._request-bindings))" class="RktValLink" pltdoc="x">request-bindings</a></span> will hold a
<span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span> object and your program will error; and, for file uploads
you lose the filename. <span style="font-weight: bold">Therefore, we recommend against their use, but
they are provided for compatibility with old code.</span></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/bindings..rkt)._request-bindings))"></a><span title="Provided from: web-server/http/bindings"><span class="RktSym"><a href="../continue/index.html#(def._((lib._web-server/servlet..rkt)._request-bindings))" class="RktValLink" pltdoc="x">request-bindings</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">req</span><span class="RktPn">)</span></td></tr><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._cons/c))" class="RktValLink" pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._cons/c))" class="RktValLink" pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">req</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._request~3f))" class="RktValLink" pltdoc="x">request?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Translates the <span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._request-bindings/raw))" class="RktValLink" pltdoc="x">request-bindings/raw</a></span> of <span class="RktVar">req</span> by
interpreting <span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span> as <span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span>s, except in the case
of <span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._binding~3afile))" class="RktValLink" pltdoc="x">binding:file</a></span> bindings, which are left as is. Ids are then
translated into lowercase symbols.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/bindings..rkt)._request-headers))"></a><span title="Provided from: web-server/http/bindings"><span class="RktSym"><a href="#(def._((lib._web-server/http/bindings..rkt)._request-headers))" class="RktValLink" pltdoc="x">request-headers</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">req</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._cons/c))" class="RktValLink" pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">req</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._request~3f))" class="RktValLink" pltdoc="x">request?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Translates the <span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._request-headers/raw))" class="RktValLink" pltdoc="x">request-headers/raw</a></span> of <span class="RktVar">req</span> by
interpreting <span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span> as <span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span>s. Ids are then
translated into lowercase symbols.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/bindings..rkt)._extract-binding/single))"></a><span title="Provided from: web-server/http/bindings"><span class="RktSym"><a href="../continue/index.html#(def._((lib._web-server/servlet..rkt)._extract-binding/single))" class="RktValLink" pltdoc="x">extract-binding/single</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">binds</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">binds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._cons/c))" class="RktValLink" pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the single binding associated with <span class="RktVar">id</span> in the a-list <span class="RktVar">binds</span>
if there is exactly one binding. Otherwise raises <span class="RktSym"><a href="../reference/exns.html#(def._((lib._racket/private/base..rkt)._exn~3afail))" class="RktValLink" pltdoc="x">exn:fail</a></span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/bindings..rkt)._extract-bindings))"></a><span title="Provided from: web-server/http/bindings"><span class="RktSym"><a href="#(def._((lib._web-server/http/bindings..rkt)._extract-bindings))" class="RktValLink" pltdoc="x">extract-bindings</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">binds</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">binds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._cons/c))" class="RktValLink" pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a list of all the bindings of <span class="RktVar">id</span> in the a-list <span class="RktVar">binds</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/bindings..rkt)._exists-binding~3f))"></a><span title="Provided from: web-server/http/bindings"><span class="RktSym"><a href="../continue/index.html#(def._((lib._web-server/servlet..rkt)._exists-binding~3f))" class="RktValLink" pltdoc="x">exists-binding?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">binds</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">binds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._cons/c))" class="RktValLink" pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string))" class="RktValLink" pltdoc="x">string</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">binds</span> contains a binding for <span class="RktVar">id</span>.
Otherwise, <span class="RktVal">#f</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara">Here is an example typical of what you will find in many applications:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">get-number</span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._string-~3enumber))" class="RktValLink" pltdoc="x">string-&gt;number</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../continue/index.html#(def._((lib._web-server/servlet..rkt)._extract-binding/single))" class="RktValLink" pltdoc="x">extract-binding/single</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">number</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../continue/index.html#(def._((lib._web-server/servlet..rkt)._request-bindings))" class="RktValLink" pltdoc="x">request-bindings</a></span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div></p><h4>4.3<tt>&nbsp;</tt><a name="(part._response-structs)"></a><a name="(mod-path._web-server/http/response-structs)"></a>Responses</h4><p><div class="SIntrapara"><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="stt"> </span><a href="#(mod-path._web-server/http/response-structs)" class="RktModLink" pltdoc="x"><span class="RktSym">web-server/http/response-structs</span></a><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span><span class="stt"> </span><a name="(def._((lib._web-server/http/response-structs..rkt)._response-output))"></a><a name="(def._((lib._web-server/http/response-structs..rkt)._response-headers))"></a><a name="(def._((lib._web-server/http/response-structs..rkt)._response-mime))"></a><a name="(def._((lib._web-server/http/response-structs..rkt)._response-seconds))"></a><a name="(def._((lib._web-server/http/response-structs..rkt)._response-message))"></a><a name="(def._((lib._web-server/http/response-structs..rkt)._response-code))"></a><a name="(def._((lib._web-server/http/response-structs..rkt)._response~3f))"></a><a name="(def._((lib._web-server/http/response-structs..rkt)._struct~3aresponse))"></a><a name="(def._((lib._web-server/http/response-structs..rkt)._response))"></a><span title="Provided from: web-server/http/response-structs"><span class="RktSym"><a href="#(def._((lib._web-server/http/response-structs..rkt)._response))" class="RktValLink" pltdoc="x">response</a></span></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">code</span><span class="stt"> </span><span class="RktSym">message</span><span class="stt"> </span><span class="RktSym">seconds</span><span class="stt"> </span><span class="RktSym">mime</span><span class="stt"> </span><span class="RktSym">headers</span><span class="stt"> </span><span class="RktSym">output</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">seconds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">mime</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._header~3f))" class="RktValLink" pltdoc="x">header?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">output</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/port-ops.html#(def._((quote._~23~25kernel)._output-port~3f))" class="RktValLink" pltdoc="x">output-port?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void))" class="RktValLink" pltdoc="x">void</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">An HTTP response where <span class="RktSym">output</span> produces the body. <span class="RktSym">code</span> is the response code,
<span class="RktSym">message</span> the message, <span class="RktSym">seconds</span> the generation time, <span class="RktSym">mime</span>
the MIME type of the file, and <span class="RktSym">headers</span> are the headers. If <span class="RktSym">headers</span> does not include <span class="RktInBG"><span class="hspace"></span><span class="RktIn">Date</span><span class="hspace"></span></span>, <span class="RktInBG"><span class="hspace"></span><span class="RktIn">Last-Modified</span><span class="hspace"></span></span>, <span class="RktInBG"><span class="hspace"></span><span class="RktIn">Server</span><span class="hspace"></span></span>, or <span class="RktInBG"><span class="hspace"></span><span class="RktIn">Content-Type</span><span class="hspace"></span></span> headers, then the server will automatically add them. The server will always replace your <span class="RktInBG"><span class="hspace"></span><span class="RktIn">Connection</span><span class="hspace"></span></span> header if it needs to ensure the connection will be closed. (Typically with an HTTP/1.0 client.)</div></p></div><div class="SIntrapara"><p><div class="SIntrapara">Example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/response-structs..rkt)._response))" class="RktValLink" pltdoc="x">response</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVal">301</span><span class="hspace">&nbsp;</span><span class="RktVal">#"Moved Permanently"</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/time.html#(def._((quote._~23~25kernel)._current-seconds))" class="RktValLink" pltdoc="x">current-seconds</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/response-structs..rkt)._.T.E.X.T/.H.T.M.L-.M.I.M.E-.T.Y.P.E))" class="RktValLink" pltdoc="x">TEXT/HTML-MIME-TYPE</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._make-header))" class="RktValLink" pltdoc="x">make-header</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#"Location"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#"http://racket-lang.org/downloads"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._~ce~bb))" class="RktStxLink" pltdoc="x">&#955;</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">op</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Byte_and_String_Output.html#(def._((quote._~23~25kernel)._write-bytes))" class="RktValLink" pltdoc="x">write-bytes</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#"Moved"</span><span class="hspace">&nbsp;</span><span class="RktSym">op</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/response-structs..rkt)._response/full))"></a><span title="Provided from: web-server/http/response-structs"><span class="RktSym"><a href="#(def._((lib._web-server/http/response-structs..rkt)._response/full))" class="RktValLink" pltdoc="x">response/full</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">code</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">message</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">seconds</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">mime</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">headers</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">body</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#(def._((lib._web-server/http/response-structs..rkt)._response~3f))" class="RktValLink" pltdoc="x">response?</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">seconds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mime</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._header~3f))" class="RktValLink" pltdoc="x">header?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">A constructor for responses where <span class="RktVar">body</span> is the response body.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara">Example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/response-structs..rkt)._response/full))" class="RktValLink" pltdoc="x">response/full</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVal">301</span><span class="hspace">&nbsp;</span><span class="RktVal">#"Moved Permanently"</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/time.html#(def._((quote._~23~25kernel)._current-seconds))" class="RktValLink" pltdoc="x">current-seconds</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/response-structs..rkt)._.T.E.X.T/.H.T.M.L-.M.I.M.E-.T.Y.P.E))" class="RktValLink" pltdoc="x">TEXT/HTML-MIME-TYPE</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._make-header))" class="RktValLink" pltdoc="x">make-header</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#"Location"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#"http://racket-lang.org/downloads"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">#"&lt;html&gt;&lt;body&gt;&lt;p&gt;"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#"Please go to &lt;a href=\""</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#"http://racket-lang.org/downloads"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#"\"&gt;here&lt;/a&gt; instead."</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#"&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><a name="(def._((lib._web-server/http/response-structs..rkt)._.T.E.X.T/.H.T.M.L-.M.I.M.E-.T.Y.P.E))"></a><span title="Provided from: web-server/http/response-structs"><span class="RktSym"><a href="#(def._((lib._web-server/http/response-structs..rkt)._.T.E.X.T/.H.T.M.L-.M.I.M.E-.T.Y.P.E))" class="RktValLink" pltdoc="x">TEXT/HTML-MIME-TYPE</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Equivalent to <span class="RktVal">#"text/html; charset=utf-8"</span>.</div></p></div><div class="SIntrapara"><span style="font-weight: bold">Warning: </span>If you include a Content-Length header in a response that is inaccurate, there <span style="font-weight: bold">will be an error</span> in
transmission that the server <span style="font-weight: bold">will not catch</span>.</div></p><h4>4.4<tt>&nbsp;</tt><a name="(part._cookie)"></a><a name="(mod-path._web-server/http/cookie)"></a>Placing Cookies</h4><p><div class="SIntrapara"><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="stt"> </span><a href="#(mod-path._web-server/http/cookie)" class="RktModLink" pltdoc="x"><span class="RktSym">web-server/http/cookie</span></a><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">This module provides functions to create cookies and responses that set them.</div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/cookie..rkt)._make-cookie))"></a><span title="Provided from: web-server/http/cookie"><span class="RktSym"><a href="#(def._((lib._web-server/http/cookie..rkt)._make-cookie))" class="RktValLink" pltdoc="x">make-cookie</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">name</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">value</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:comment</span><span class="hspace">&nbsp;</span><span class="RktVar">comment</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:domain</span><span class="hspace">&nbsp;</span><span class="RktVar">domain</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:max-age</span><span class="hspace">&nbsp;</span><span class="RktVar">max-age</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:path</span><span class="hspace">&nbsp;</span><span class="RktVar">path</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:secure?</span><span class="hspace">&nbsp;</span><span class="RktVar">secure?</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="../net/cookie.html#(def._((lib._net/cookie..rkt)._cookie~3f))" class="RktValLink" pltdoc="x">cookie?</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../net/cookie.html#(def._((lib._net/cookie..rkt)._cookie-name~3f))" class="RktValLink" pltdoc="x">cookie-name?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../net/cookie.html#(def._((lib._net/cookie..rkt)._cookie-value~3f))" class="RktValLink" pltdoc="x">cookie-value?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">comment</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">domain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../net/cookie.html#(def._((lib._net/cookie..rkt)._valid-domain~3f))" class="RktValLink" pltdoc="x">valid-domain?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">max-age</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#(def._((quote._~23~25kernel)._exact-nonnegative-integer~3f))" class="RktValLink" pltdoc="x">exact-nonnegative-integer?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">secure?</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#f</span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a cookie with the appropriate fields.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/cookie..rkt)._cookie-~3eheader))"></a><span title="Provided from: web-server/http/cookie"><span class="RktSym"><a href="#(def._((lib._web-server/http/cookie..rkt)._cookie-~3eheader))" class="RktValLink" pltdoc="x">cookie-&gt;header</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">c</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._header~3f))" class="RktValLink" pltdoc="x">header?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">c</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../net/cookie.html#(def._((lib._net/cookie..rkt)._cookie~3f))" class="RktValLink" pltdoc="x">cookie?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a header that sets the cookie.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara">Examples:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">time-cookie</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/cookie..rkt)._make-cookie))" class="RktValLink" pltdoc="x">make-cookie</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"time"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._number-~3estring))" class="RktValLink" pltdoc="x">number-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/time.html#(def._((quote._~23~25kernel)._current-seconds))" class="RktValLink" pltdoc="x">current-seconds</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">id-cookie</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/cookie..rkt)._make-cookie))" class="RktValLink" pltdoc="x">make-cookie</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"id"</span><span class="hspace">&nbsp;</span><span class="RktVal">"joseph"</span><span class="hspace">&nbsp;</span><span class="RktPn">#:secure?</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._redirect-to))" class="RktValLink" pltdoc="x">redirect-to</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVal">"http://localhost/logged-in"</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._see-other))" class="RktValLink" pltdoc="x">see-other</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">#:headers</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((lib._racket/private/map..rkt)._map))" class="RktValLink" pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/cookie..rkt)._cookie-~3eheader))" class="RktValLink" pltdoc="x">cookie-&gt;header</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">time-cookie</span><span class="hspace">&nbsp;</span><span class="RktSym">id-cookie</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="servlet.html#(def._((lib._web-server/servlet/web..rkt)._send/suspend))" class="RktValLink" pltdoc="x">send/suspend</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">k-url</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/xexpr..rkt)._response/xexpr))" class="RktValLink" pltdoc="x">response/xexpr</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:cookies</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktSym">time-cookie</span><span class="hspace">&nbsp;</span><span class="RktSym">id-cookie</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">html</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">head</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">title</span><span class="hspace">&nbsp;</span><span class="RktVal">"Cookie Example"</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">body</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">h1</span><span class="hspace">&nbsp;</span><span class="RktVal">"You're cookie'd!"</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div><div class="SIntrapara"><span style="font-weight: bold">Warning: </span>When using cookies, make sure you follow the advice of the <a href="http://cookies.lcs.mit.edu/">MIT Cookie Eaters</a>,
or you will be susceptible to dangerous attacks.</div></p><h4>4.5<tt>&nbsp;</tt><a name="(part._cookie-parse)"></a><a name="(mod-path._web-server/http/cookie-parse)"></a>Extracting Cookies</h4><p><div class="SIntrapara"><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="stt"> </span><a href="#(mod-path._web-server/http/cookie-parse)" class="RktModLink" pltdoc="x"><span class="RktSym">web-server/http/cookie-parse</span></a><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><table cellspacing="0"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span></td><td><span class="hspace">&nbsp;</span></td><td><a name="(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie-path))"></a><a name="(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie-domain))"></a><a name="(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie-value))"></a><a name="(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie-name))"></a><a name="(def._((lib._web-server/http/cookie-parse..rkt)._make-client-cookie))"></a><a name="(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie~3f))"></a><a name="(def._((lib._web-server/http/cookie-parse..rkt)._struct~3aclient-cookie))"></a><a name="(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie))"></a><span title="Provided from: web-server/http/cookie-parse"><span class="RktSym"><a href="#(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie))" class="RktValLink" pltdoc="x">client-cookie</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">name</span><span class="stt"> </span><span class="RktSym">value</span><span class="stt"> </span><span class="RktSym">domain</span><span class="stt"> </span><span class="RktSym">path</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:extra-constructor-name</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/cookie-parse..rkt)._make-client-cookie))" class="RktValLink" pltdoc="x">make-client-cookie</a></span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">value</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">domain</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../net/cookie.html#(def._((lib._net/cookie..rkt)._valid-domain~3f))" class="RktValLink" pltdoc="x">valid-domain?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktSym">path</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">While server cookies are represented with <span class="RktSym"><a href="../net/cookie.html#(def._((lib._net/cookie..rkt)._cookie~3f))" class="RktValLink" pltdoc="x">cookie?</a></span>s, cookies
that come from the client are represented with a
<span class="RktSym"><a href="#(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie))" class="RktValLink" pltdoc="x">client-cookie</a></span> structure.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/cookie-parse..rkt)._request-cookies))"></a><span title="Provided from: web-server/http/cookie-parse"><span class="RktSym"><a href="#(def._((lib._web-server/http/cookie-parse..rkt)._request-cookies))" class="RktValLink" pltdoc="x">request-cookies</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">req</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie~3f))" class="RktValLink" pltdoc="x">client-cookie?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">req</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._request~3f))" class="RktValLink" pltdoc="x">request?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Extracts the cookies from <span class="RktVar">req</span>&rsquo;s headers.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara">Examples:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">start</span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cookies</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/cookie-parse..rkt)._request-cookies))" class="RktValLink" pltdoc="x">request-cookies</a></span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">id-cookie</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((lib._racket/private/list..rkt)._findf))" class="RktValLink" pltdoc="x">findf</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">c</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3d~3f))" class="RktValLink" pltdoc="x">string=?</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"id"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie-name))" class="RktValLink" pltdoc="x">client-cookie-name</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">cookies</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktSym">id-cookie</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">hello</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/cookie-parse..rkt)._client-cookie-value))" class="RktValLink" pltdoc="x">client-cookie-value</a></span><span class="hspace">&nbsp;</span><span class="RktSym">id-cookie</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._redirect-to))" class="RktValLink" pltdoc="x">redirect-to</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../net/url.html#(def._((lib._net/url..rkt)._url-~3estring))" class="RktValLink" pltdoc="x">url-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._request-uri))" class="RktValLink" pltdoc="x">request-uri</a></span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._see-other))" class="RktValLink" pltdoc="x">see-other</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">#:headers</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/cookie..rkt)._cookie-~3eheader))" class="RktValLink" pltdoc="x">cookie-&gt;header</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/cookie..rkt)._make-cookie))" class="RktValLink" pltdoc="x">make-cookie</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"id"</span><span class="hspace">&nbsp;</span><span class="RktVal">"joseph"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">hello</span><span class="hspace">&nbsp;</span><span class="RktSym">who</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/xexpr..rkt)._response/xexpr))" class="RktValLink" pltdoc="x">response/xexpr</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">html</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">head</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">title</span><span class="hspace">&nbsp;</span><span class="RktVal">"Hello!"</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">body</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">h1</span><span class="hspace">&nbsp;</span><span class="RktVal">"Hello "</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktRdr">,</span><span class="RktSym">who</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div></p><h4>4.6<tt>&nbsp;</tt><a name="(part._redirect)"></a><a name="(mod-path._web-server/http/redirect)"></a>Redirect</h4><p><div class="SIntrapara"><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="stt"> </span><a href="#(mod-path._web-server/http/redirect)" class="RktModLink" pltdoc="x"><span class="RktSym">web-server/http/redirect</span></a><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/redirect..rkt)._redirect-to))"></a><span title="Provided from: web-server/http/redirect"><span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._redirect-to))" class="RktValLink" pltdoc="x">redirect-to</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">uri</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktVar">perm/temp</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:headers</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#(def._((lib._web-server/http/response-structs..rkt)._response~3f))" class="RktValLink" pltdoc="x">response?</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">uri</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym">non-empty-string/c</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">perm/temp</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._redirection-status~3f))" class="RktValLink" pltdoc="x">redirection-status?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._temporarily))" class="RktValLink" pltdoc="x">temporarily</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._header~3f))" class="RktValLink" pltdoc="x">header?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Generates an HTTP response that redirects the browser to <span class="RktVar">uri</span>,
while including the <span class="RktVar">headers</span> in the response.</div></p></div><div class="SIntrapara">Example:
<span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._redirect-to))" class="RktValLink" pltdoc="x">redirect-to</a></span><span class="stt"> </span><span class="RktVal">"http://www.add-three-numbers.com"</span><span class="stt"> </span><span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._permanently))" class="RktValLink" pltdoc="x">permanently</a></span><span class="RktPn">)</span></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/redirect..rkt)._redirection-status~3f))"></a><span title="Provided from: web-server/http/redirect"><span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._redirection-status~3f))" class="RktValLink" pltdoc="x">redirection-status?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Determines if <span class="RktVar">v</span> is one of the following values.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><a name="(def._((lib._web-server/http/redirect..rkt)._permanently))"></a><span title="Provided from: web-server/http/redirect"><span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._permanently))" class="RktValLink" pltdoc="x">permanently</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._redirection-status~3f))" class="RktValLink" pltdoc="x">redirection-status?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A <span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._redirection-status~3f))" class="RktValLink" pltdoc="x">redirection-status?</a></span> for permanent redirections.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><a name="(def._((lib._web-server/http/redirect..rkt)._temporarily))"></a><span title="Provided from: web-server/http/redirect"><span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._temporarily))" class="RktValLink" pltdoc="x">temporarily</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._redirection-status~3f))" class="RktValLink" pltdoc="x">redirection-status?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A <span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._redirection-status~3f))" class="RktValLink" pltdoc="x">redirection-status?</a></span> for temporary redirections.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><a name="(def._((lib._web-server/http/redirect..rkt)._see-other))"></a><span title="Provided from: web-server/http/redirect"><span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._see-other))" class="RktValLink" pltdoc="x">see-other</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._redirection-status~3f))" class="RktValLink" pltdoc="x">redirection-status?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">A <span class="RktSym"><a href="#(def._((lib._web-server/http/redirect..rkt)._redirection-status~3f))" class="RktValLink" pltdoc="x">redirection-status?</a></span> for "see-other" redirections.</div></p></div></p><h4>4.7<tt>&nbsp;</tt><a name="(part._basic-auth)"></a><a name="(mod-path._web-server/http/basic-auth)"></a>Basic Authentication</h4><p><div class="SIntrapara"><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="stt"> </span><a href="#(mod-path._web-server/http/basic-auth)" class="RktModLink" pltdoc="x"><span class="RktSym">web-server/http/basic-auth</span></a><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">An implementation of HTTP Basic Authentication.</div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/basic-auth..rkt)._make-basic-auth-header))"></a><span title="Provided from: web-server/http/basic-auth"><span class="RktSym"><a href="#(def._((lib._web-server/http/basic-auth..rkt)._make-basic-auth-header))" class="RktValLink" pltdoc="x">make-basic-auth-header</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">realm</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._header~3f))" class="RktValLink" pltdoc="x">header?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">realm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a header that instructs the Web browser to request a username and password from the client using
Basic authentication with <span class="RktVar">realm</span> as the realm.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/basic-auth..rkt)._request-~3ebasic-credentials))"></a><span title="Provided from: web-server/http/basic-auth"><span class="RktSym"><a href="#(def._((lib._web-server/http/basic-auth..rkt)._request-~3ebasic-credentials))" class="RktValLink" pltdoc="x">request-&gt;basic-credentials</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">req</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._cons/c))" class="RktValLink" pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">req</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._request~3f))" class="RktValLink" pltdoc="x">request?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a pair of the username and password from the authentication
header in <span class="RktVar">req</span> if they are present, or <span class="RktVal">#f</span>.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara">Example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><a href="../guide/Module_Syntax.html#(part._hash-lang)" class="RktModLink" pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="run.html#(mod-path._web-server/insta)" class="RktModLink" pltdoc="x"><span class="RktSym">web-server/insta</span></a></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">start</span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/match.html#(form._((lib._racket/match..rkt)._match))" class="RktStxLink" pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/basic-auth..rkt)._request-~3ebasic-credentials))" class="RktValLink" pltdoc="x">request-&gt;basic-credentials</a></span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._cons))" class="RktValLink" pltdoc="x">cons</a></span><span class="hspace">&nbsp;</span><span class="RktSym">user</span><span class="hspace">&nbsp;</span><span class="RktSym">pass</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/xexpr..rkt)._response/xexpr))" class="RktValLink" pltdoc="x">response/xexpr</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">html</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">head</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">title</span><span class="hspace">&nbsp;</span><span class="RktVal">"Basic Auth Test"</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">body</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">h1</span><span class="hspace">&nbsp;</span><span class="RktVal">"User: "</span><span class="hspace">&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes-~3estring/utf-8))" class="RktValLink" pltdoc="x">bytes-&gt;string/utf-8</a></span><span class="hspace">&nbsp;</span><span class="RktSym">user</span><span class="RktPn">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">h1</span><span class="hspace">&nbsp;</span><span class="RktVal">"Pass: "</span><span class="hspace">&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes-~3estring/utf-8))" class="RktValLink" pltdoc="x">bytes-&gt;string/utf-8</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pass</span><span class="RktPn">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="../reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._else))" class="RktStxLink" pltdoc="x">else</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/response-structs..rkt)._response))" class="RktValLink" pltdoc="x">response</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">401</span><span class="hspace">&nbsp;</span><span class="RktVal">#"Unauthorized"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/time.html#(def._((quote._~23~25kernel)._current-seconds))" class="RktValLink" pltdoc="x">current-seconds</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/response-structs..rkt)._.T.E.X.T/.H.T.M.L-.M.I.M.E-.T.Y.P.E))" class="RktValLink" pltdoc="x">TEXT/HTML-MIME-TYPE</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/basic-auth..rkt)._make-basic-auth-header))" class="RktValLink" pltdoc="x">make-basic-auth-header</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Writing.html#(def._((quote._~23~25kernel)._format))" class="RktValLink" pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Basic Auth Test: ~a"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._gensym))" class="RktValLink" pltdoc="x">gensym</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void))" class="RktValLink" pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div></p><h4>4.8<tt>&nbsp;</tt><a name="(part._digest-auth)"></a><a name="(mod-path._web-server/http/digest-auth)"></a>Digest Authentication</h4><p><div class="SIntrapara"><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="stt"> </span><a href="#(mod-path._web-server/http/digest-auth)" class="RktModLink" pltdoc="x"><span class="RktSym">web-server/http/digest-auth</span></a><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">An implementation of HTTP Digest Authentication.</div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/digest-auth..rkt)._make-digest-auth-header))"></a><span title="Provided from: web-server/http/digest-auth"><span class="RktSym"><a href="#(def._((lib._web-server/http/digest-auth..rkt)._make-digest-auth-header))" class="RktValLink" pltdoc="x">make-digest-auth-header</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">realm</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">private-key</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">opaque</span><span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._header~3f))" class="RktValLink" pltdoc="x">header?</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">realm</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">private-key</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">opaque</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a header that instructs the Web browser to request a username and password from the client
using Digest authentication with <span class="RktVar">realm</span> as the realm, <span class="RktVar">private-key</span> as the server&rsquo;s
contribution to the nonce, and <span class="RktVar">opaque</span> as the opaque data passed through the client.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/digest-auth..rkt)._request-~3edigest-credentials))"></a><span title="Provided from: web-server/http/digest-auth"><span class="RktSym"><a href="#(def._((lib._web-server/http/digest-auth..rkt)._request-~3edigest-credentials))" class="RktValLink" pltdoc="x">request-&gt;digest-credentials</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">req</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._cons/c))" class="RktValLink" pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">req</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._request~3f))" class="RktValLink" pltdoc="x">request?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns the Digest credentials from <span class="RktVar">req</span> (if they appear) as an association list.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><a name="(def._((lib._web-server/http/digest-auth..rkt)._username*realm-~3epassword/c))"></a><span title="Provided from: web-server/http/digest-auth"><span class="RktSym"><a href="#(def._((lib._web-server/http/digest-auth..rkt)._username*realm-~3epassword/c))" class="RktValLink" pltdoc="x">username*realm-&gt;password/c</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/contract-utilities.html#(def._((lib._racket/contract/private/misc..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Used to look up the password for a user is a realm.</div></p></div><div class="SIntrapara">Equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="stt"> </span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="stt"> </span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span>.</div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><a name="(def._((lib._web-server/http/digest-auth..rkt)._username*realm-~3edigest-.H.A1/c))"></a><span title="Provided from: web-server/http/digest-auth"><span class="RktSym"><a href="#(def._((lib._web-server/http/digest-auth..rkt)._username*realm-~3edigest-.H.A1/c))" class="RktValLink" pltdoc="x">username*realm-&gt;digest-HA1/c</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/contract-utilities.html#(def._((lib._racket/contract/private/misc..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Used to compute the user&rsquo;s secret hash.</div></p></div><div class="SIntrapara">Equivalent to <span class="RktPn">(</span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="stt"> </span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="stt"> </span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span><span class="RktPn">)</span>.</div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/digest-auth..rkt)._password-~3edigest-.H.A1))"></a><span title="Provided from: web-server/http/digest-auth"><span class="RktSym"><a href="#(def._((lib._web-server/http/digest-auth..rkt)._password-~3edigest-.H.A1))" class="RktValLink" pltdoc="x">password-&gt;digest-HA1</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lookup-password</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/digest-auth..rkt)._username*realm-~3edigest-.H.A1/c))" class="RktValLink" pltdoc="x">username*realm-&gt;digest-HA1/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lookup-password</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/digest-auth..rkt)._username*realm-~3epassword/c))" class="RktValLink" pltdoc="x">username*realm-&gt;password/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Uses <span class="RktVar">lookup-password</span> to find the password, then computes the
secret hash of it.</div></p></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/digest-auth..rkt)._make-check-digest-credentials))"></a><span title="Provided from: web-server/http/digest-auth"><span class="RktSym"><a href="#(def._((lib._web-server/http/digest-auth..rkt)._make-check-digest-credentials))" class="RktValLink" pltdoc="x">make-check-digest-credentials</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lookup-HA1</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._cons/c))" class="RktValLink" pltdoc="x">cons/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lookup-HA1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/digest-auth..rkt)._username*realm-~3edigest-.H.A1/c))" class="RktValLink" pltdoc="x">username*realm-&gt;digest-HA1/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a function that checks whether particular Digest credentials
(the second argument of the returned function) are correct given the
HTTP method provided as the first argument and the secret hash computed
by <span class="RktVar">lookup-HA1</span>.</div></p></div><div class="SIntrapara">This is will result in an exception if the Digest credentials are
missing portions.</div><div class="SIntrapara"><p><div class="SIntrapara">Example:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><a href="../guide/Module_Syntax.html#(part._hash-lang)" class="RktModLink" pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="run.html#(mod-path._web-server/insta)" class="RktModLink" pltdoc="x"><span class="RktSym">web-server/insta</span></a></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">racket/pretty</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">private-key</span><span class="hspace">&nbsp;</span><span class="RktVal">"private-key"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">opaque</span><span class="hspace">&nbsp;</span><span class="RktVal">"opaque"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">start</span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/match.html#(form._((lib._racket/match..rkt)._match))" class="RktStxLink" pltdoc="x">match</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/digest-auth..rkt)._request-~3edigest-credentials))" class="RktValLink" pltdoc="x">request-&gt;digest-credentials</a></span><span class="hspace">&nbsp;</span><span class="RktSym">req</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/response-structs..rkt)._response))" class="RktValLink" pltdoc="x">response</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">401</span><span class="hspace">&nbsp;</span><span class="RktVal">#"Unauthorized"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/time.html#(def._((quote._~23~25kernel)._current-seconds))" class="RktValLink" pltdoc="x">current-seconds</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/response-structs..rkt)._.T.E.X.T/.H.T.M.L-.M.I.M.E-.T.Y.P.E))" class="RktValLink" pltdoc="x">TEXT/HTML-MIME-TYPE</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/digest-auth..rkt)._make-digest-auth-header))" class="RktValLink" pltdoc="x">make-digest-auth-header</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/Writing.html#(def._((quote._~23~25kernel)._format))" class="RktValLink" pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Digest Auth Test: ~a"</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/symbols.html#(def._((quote._~23~25kernel)._gensym))" class="RktValLink" pltdoc="x">gensym</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">private-key</span><span class="hspace">&nbsp;</span><span class="RktSym">opaque</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="../reference/void.html#(def._((quote._~23~25kernel)._void))" class="RktValLink" pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym">alist</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">check</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/digest-auth..rkt)._make-check-digest-credentials))" class="RktValLink" pltdoc="x">make-check-digest-credentials</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/digest-auth..rkt)._password-~3edigest-.H.A1))" class="RktValLink" pltdoc="x">password-&gt;digest-HA1</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">username</span><span class="hspace">&nbsp;</span><span class="RktSym">realm</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"pass"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pass?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check</span><span class="hspace">&nbsp;</span><span class="RktVal">"GET"</span><span class="hspace">&nbsp;</span><span class="RktSym">alist</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/xexpr..rkt)._response/xexpr))" class="RktValLink" pltdoc="x">response/xexpr</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">html</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">head</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">title</span><span class="hspace">&nbsp;</span><span class="RktVal">"Digest Auth Test"</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">body</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">h1</span><span class="hspace">&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktSym">pass?</span><span class="hspace">&nbsp;</span><span class="RktVal">"Pass!"</span><span class="hspace">&nbsp;</span><span class="RktVal">"No Pass!"</span><span class="RktPn">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">pre</span><span class="hspace">&nbsp;</span><span class="RktRdr">,</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pretty-print.html#(def._((lib._racket/pretty..rkt)._pretty-format))" class="RktValLink" pltdoc="x">pretty-format</a></span><span class="hspace">&nbsp;</span><span class="RktSym">alist</span><span class="RktPn">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div></p><h4>4.9<tt>&nbsp;</tt><a name="(part._xexpr)"></a><a name="(mod-path._web-server/http/xexpr)"></a>X-expression Support</h4><p><div class="SIntrapara"><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="stt"> </span><a href="#(mod-path._web-server/http/xexpr)" class="RktModLink" pltdoc="x"><span class="RktSym">web-server/http/xexpr</span></a><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara"><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><table cellspacing="0" class="prototype"><tr><td><span class="RktPn">(</span><a name="(def._((lib._web-server/http/xexpr..rkt)._response/xexpr))"></a><span title="Provided from: web-server/http/xexpr"><span class="RktSym"><a href="#(def._((lib._web-server/http/xexpr..rkt)._response/xexpr))" class="RktValLink" pltdoc="x">response/xexpr</a></span></span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktVar">xexpr</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span>[</td><td><span class="RktPn">#:code</span><span class="hspace">&nbsp;</span><span class="RktVar">code</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:message</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:seconds</span><span class="hspace">&nbsp;</span><span class="RktVar">seconds</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:mime-type</span><span class="hspace">&nbsp;</span><span class="RktVar">mime-type</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:headers</span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:cookies</span><span class="hspace">&nbsp;</span><span class="RktVar">cookies</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td><td><span class="hspace">&nbsp;</span></td><td><span class="RktPn">#:preamble</span><span class="hspace">&nbsp;</span><span class="RktVar">preamble</span>]<span class="RktPn">)</span></td><td><span class="hspace">&nbsp;</span></td><td>&rarr;</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#(def._((lib._web-server/http/response-structs..rkt)._response~3f))" class="RktValLink" pltdoc="x">response?</a></span></td></tr></table></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">xexpr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../xml/index.html#(def._((lib._xml/main..rkt)._xexpr/c))" class="RktValLink" pltdoc="x">xexpr/c</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">code</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">200</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#"Okay"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">seconds</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/number-types.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/time.html#(def._((quote._~23~25kernel)._current-seconds))" class="RktValLink" pltdoc="x">current-seconds</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">mime-type</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._or/c))" class="RktValLink" pltdoc="x">or/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._false/c))" class="RktValLink" pltdoc="x">false/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/response-structs..rkt)._.T.E.X.T/.H.T.M.L-.M.I.M.E-.T.Y.P.E))" class="RktValLink" pltdoc="x">TEXT/HTML-MIME-TYPE</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/request-structs..rkt)._header~3f))" class="RktValLink" pltdoc="x">header?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/pairs.html#(def._((lib._racket/list..rkt)._empty))" class="RktValLink" pltdoc="x">empty</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">cookies</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../net/cookie.html#(def._((lib._net/cookie..rkt)._cookie~3f))" class="RktValLink" pltdoc="x">cookie?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/pairs.html#(def._((lib._racket/list..rkt)._empty))" class="RktValLink" pltdoc="x">empty</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">preamble</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._bytes~3f))" class="RktValLink" pltdoc="x">bytes?</a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktVal">#""</span></td></tr></table></blockquote></div><div class="SIntrapara">Equivalent to
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._web-server/http/response-structs..rkt)._response/full))" class="RktValLink" pltdoc="x">response/full</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVar">code</span><span class="hspace">&nbsp;</span><span class="RktVar">message</span><span class="hspace">&nbsp;</span><span class="RktVar">seconds</span><span class="hspace">&nbsp;</span><span class="RktVar">mime-type</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._append))" class="RktValLink" pltdoc="x">append</a></span><span class="hspace">&nbsp;</span><span class="RktVar">headers</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((lib._racket/private/map..rkt)._map))" class="RktValLink" pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._web-server/http/cookie..rkt)._cookie-~3eheader))" class="RktValLink" pltdoc="x">cookie-&gt;header</a></span><span class="hspace">&nbsp;</span><span class="RktVar">cookies</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVar">preamble</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/bytestrings.html#(def._((quote._~23~25kernel)._string-~3ebytes/utf-8))" class="RktValLink" pltdoc="x">string-&gt;bytes/utf-8</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../xml/index.html#(def._((lib._xml/main..rkt)._xexpr-~3estring))" class="RktValLink" pltdoc="x">xexpr-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktVar">xexpr</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div><div class="SIntrapara">This is a viable function to pass to <span class="RktSym"><a href="servlet.html#(def._((lib._web-server/servlet/servlet-structs..rkt)._set-any-~3eresponse!))" class="RktValLink" pltdoc="x">set-any-&gt;response!</a></span>.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="stateless.html" title="backward to &quot;3 Stateless Servlets&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html" title="up to &quot;Web Applications in Racket&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="dispatch.html" title="forward to &quot;5 URL-Based Dispatch&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>