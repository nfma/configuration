<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>1.18.5&nbsp;The Cat's Path</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x">Games:<span class="mywbr"> </span> Fun Examples</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="bundled.html" class="tocviewselflink" pltdoc="x">Bundled Games</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="new-games.html" class="tocviewlink" pltdoc="x">Implementing New Games</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="Showing_Scribbled_Help.html" class="tocviewlink" pltdoc="x">Showing Scribbled Help</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Showing_Text_Help.html" class="tocviewlink" pltdoc="x">Showing Text Help</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9658;</a></td><td>1&nbsp;</td><td><a href="bundled.html" class="tocviewlink" pltdoc="x">Bundled Games</a></td></tr></table><div class="tocviewsublist" style="display: none;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.1&nbsp;</td><td><a href="aces.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="aces.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Aces</span> &#8212;<wbr></wbr> Solitaire Card Game</a></td></tr><tr><td align="right">1.2&nbsp;</td><td><a href="gofish.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="gofish.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Go Fish</span> &#8212;<wbr></wbr> Kid&rsquo;s Card Game</a></td></tr><tr><td align="right">1.3&nbsp;</td><td><a href="crazy8s.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="crazy8s.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Crazy 8s</span> &#8212;<wbr></wbr> Card Game</a></td></tr><tr><td align="right">1.4&nbsp;</td><td><a href="blackjack.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="blackjack.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Blackjack</span> &#8212;<wbr></wbr> 21 Card Game</a></td></tr><tr><td align="right">1.5&nbsp;</td><td><a href="ginrummy.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="ginrummy.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Rummy</span> &#8212;<wbr></wbr> Card Game</a></td></tr><tr><td align="right">1.6&nbsp;</td><td><a href="spider.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="spider.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Spider</span> &#8212;<wbr></wbr> Solitaire Card Game</a></td></tr><tr><td align="right">1.7&nbsp;</td><td><a href="memory.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="memory.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Memory</span> &#8212;<wbr></wbr> Kid&rsquo;s Game</a></td></tr><tr><td align="right">1.8&nbsp;</td><td><a href="slidey.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="slidey.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Slidey</span> &#8212;<wbr></wbr> Picture Puzzle</a></td></tr><tr><td align="right">1.9&nbsp;</td><td><a href="same.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="same.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Same</span> &#8212;<wbr></wbr> Dot-<wbr></wbr>Removing Game</a></td></tr><tr><td align="right">1.10&nbsp;</td><td><a href="mines.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="mines.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Minesweeper</span> &#8212;<wbr></wbr> Logic Game</a></td></tr><tr><td align="right">1.11&nbsp;</td><td><a href="paint-by-numbers.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="paint-by-numbers.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Paint By Numbers</span> &#8212;<wbr></wbr> Logic Game</a></td></tr><tr><td align="right">1.12&nbsp;</td><td><a href="lights-out.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="lights-out.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Lights Out</span> &#8212;<wbr></wbr> Logic Game</a></td></tr><tr><td align="right">1.13&nbsp;</td><td><a href="pousse.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="pousse.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Pousse</span> &#8212;<wbr></wbr> Tic-<wbr></wbr>Tac-<wbr></wbr>Toe-<wbr></wbr>like Game</a></td></tr><tr><td align="right">1.14&nbsp;</td><td><a href="gobblet.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="gobblet.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Gobblet</span> &#8212;<wbr></wbr> Strategy Game</a></td></tr><tr><td align="right">1.15&nbsp;</td><td><a href="jewel.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="jewel.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Jewel</span> &#8212;<wbr></wbr> 3-<wbr></wbr>D Skill Game</a></td></tr><tr><td align="right">1.16&nbsp;</td><td><a href="parcheesi.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="parcheesi.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Parcheesi</span> &#8212;<wbr></wbr> Board Game</a></td></tr><tr><td align="right">1.17&nbsp;</td><td><a href="checkers.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="checkers.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Checkers</span> &#8212;<wbr></wbr> Board Game</a></td></tr><tr><td align="right">1.18&nbsp;</td><td><a href="chat-noir.html" class="tocviewselflink" pltdoc="x"><span class="noborder"><img src="chat-noir.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Chat Noir</span> &#8212;<wbr></wbr> Puzzle Game</a></td></tr><tr><td align="right">1.19&nbsp;</td><td><a href="gcalc.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="gcalc.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">GCalc</span> &#8212;<wbr></wbr> Visual Î»-<wbr></wbr>Calculus</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9660;</a></td><td>1.18&nbsp;</td><td><a href="chat-noir.html" class="tocviewlink" pltdoc="x"><span class="noborder"><img src="chat-noir.png" alt="" /></span> <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Chat Noir</span> &#8212;<wbr></wbr> Puzzle Game</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">1.18.1&nbsp;</td><td><a href="Overview.html" class="tocviewlink" pltdoc="x">Overview</a></td></tr><tr><td align="right">1.18.2&nbsp;</td><td><a href="The_World.html" class="tocviewlink" pltdoc="x">The World</a></td></tr><tr><td align="right">1.18.3&nbsp;</td><td><a href="Breadth-first_Search.html" class="tocviewlink" pltdoc="x">Breadth-<wbr></wbr>first Search</a></td></tr><tr><td align="right">1.18.4&nbsp;</td><td><a href="Board_to_Graph.html" class="tocviewlink" pltdoc="x">Board to Graph</a></td></tr><tr><td align="right">1.18.5&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">The Cat&rsquo;s Path</a></td></tr><tr><td align="right">1.18.6&nbsp;</td><td><a href="Drawing_the_Cat.html" class="tocviewlink" pltdoc="x">Drawing the Cat</a></td></tr><tr><td align="right">1.18.7&nbsp;</td><td><a href="Drawing_the_World.html" class="tocviewlink" pltdoc="x">Drawing the World</a></td></tr><tr><td align="right">1.18.8&nbsp;</td><td><a href="Handling_Input.html" class="tocviewlink" pltdoc="x">Handling Input</a></td></tr><tr><td align="right">1.18.9&nbsp;</td><td><a href="Tests.html" class="tocviewlink" pltdoc="x">Tests</a></td></tr><tr><td align="right">1.18.10&nbsp;</td><td><a href="Run__program__run.html" class="tocviewlink" pltdoc="x">Run, program, run</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="Smaller"><a href="#(elem._(chunk._~3ccats-path~3e~3a1))" class="plainlink" pltdoc="x">&lt;cats-path&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#(elem._(chunk._~3ccats-path-tests~3e~3a1))" class="plainlink" pltdoc="x">&lt;cats-path-tests&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#(elem._(chunk._~3con-cats-path~3f-tests~3e~3a1))" class="plainlink" pltdoc="x">&lt;on-cats-path?-tests&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#(elem._(chunk._~3con-cats-path~3f~3e~3a1))" class="plainlink" pltdoc="x">&lt;on-cats-path?&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#(elem._(chunk._~3c+/f~3e~3a1))" class="plainlink" pltdoc="x">&lt;+/f&gt;</a></span></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="Board_to_Graph.html" title="backward to &quot;1.18.4 Board to Graph&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="chat-noir.html" title="up to &quot;1.18  Chat Noir --- Puzzle Game&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Drawing_the_Cat.html" title="forward to &quot;1.18.6 Drawing the Cat&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h5>1.18.5<tt>&nbsp;</tt><a name="(part._.The_.Cat_s_.Path)"></a>The Cat&rsquo;s Path</h5><p>Once we have a breadth-first search all sorted out, we can use it to build a function that
determines where the shortest paths from the cat&rsquo;s current position to the boundary are.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3ccats-path~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#(elem._(chunk._~3ccats-path~3e~3a1))" class="plainlink" pltdoc="x">&lt;cats-path&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><a href="#(elem._(chunk._~3con-cats-path~3f~3e~3a1))" class="plainlink" pltdoc="x">&lt;on-cats-path?&gt;</a></td></tr><tr><td><a href="#(elem._(chunk._~3c+/f~3e~3a1))" class="plainlink" pltdoc="x">&lt;+/f&gt;</a></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(elem._(chunk._~3ccats-path-tests~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#(elem._(chunk._~3ccats-path-tests~3e~3a1))" class="plainlink" pltdoc="x">&lt;cats-path-tests&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><a href="#(elem._(chunk._~3con-cats-path~3f-tests~3e~3a1))" class="plainlink" pltdoc="x">&lt;on-cats-path?-tests&gt;</a></td></tr><tr><td><a href="Tests.html#(elem._(chunk._~3c+/f-tests~3e~3a1))" class="plainlink" pltdoc="x">&lt;+/f-tests&gt;</a></td></tr></table></blockquote></div></p><p>The function <span class="RktSym">on-cats-path?</span> accepts a world and returns a predicate
on the <span class="RktSym"><a href="../htdp/index.html#(def._((lib._lang/posn..rkt)._posn))" class="RktValLink" pltdoc="x">posn</a></span>s in the world. The predicate indicates if the given
<span class="RktSym"><a href="../htdp/index.html#(def._((lib._lang/posn..rkt)._posn))" class="RktValLink" pltdoc="x">posn</a></span> is on the shortest path.</p><p>For example, in a world of size <span class="RktVal">7</span> with the cat at
<span class="RktPn">(</span><span class="RktSym"><a href="../htdp/index.html#(def._((lib._lang/posn..rkt)._make-posn))" class="RktValLink" pltdoc="x">make-posn</a></span><span class="stt"> </span><span class="RktVal">2</span><span class="stt"> </span><span class="RktVal">2</span><span class="RktPn">)</span>, the circles with white centers
are on the shortest path to the boundary:</p><p><img src="cat-distance-example.png" alt="" /></p><p>So we can formulate two test cases using this world, one
in the white circles and one not:</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3con-cats-path~3f-tests~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#(elem._(chunk._~3con-cats-path~3f-tests~3e~3a1))" class="plainlink" pltdoc="x">&lt;on-cats-path?-tests&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">on-the-path?</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">on-cats-path?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">make-world</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">empty-board</span><span class="hspace">&nbsp;</span><span class="RktVal">7</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../htdp/index.html#(def._((lib._lang/posn..rkt)._make-posn))" class="RktValLink" pltdoc="x">make-posn</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">playing</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">7</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#f</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">test</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">on-the-path?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../htdp/index.html#(def._((lib._lang/posn..rkt)._make-posn))" class="RktValLink" pltdoc="x">make-posn</a></span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">test</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">on-the-path?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../htdp/index.html#(def._((lib._lang/posn..rkt)._make-posn))" class="RktValLink" pltdoc="x">make-posn</a></span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>The computation of the shortest path to the boundary proceeds by computing
two distance maps; the distance map to the boundary and the distance map
to the cat. Then, a node is on one of the shortest paths if the distance
to the cat plus the distance to the boundary is equal to the distance from
the cat to the boundary.</p><p>The code is essentially that, plus two other special cases. Specifically if the
&ldquo;h&rdquo; key is not pressed down, then we just consider no cells to be on that shortest
path. And if the distance to the cat is <span class="RktVal">'</span><span class="RktVal">&#8734;</span>, then again no nodes are on the
path. The second situation happens when the cat is completely boxed in and has
lost the game.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3con-cats-path~3f~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#(elem._(chunk._~3con-cats-path~3f~3e~3a1))" class="plainlink" pltdoc="x">&lt;on-cats-path?&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/attaching-contracts-to-values.html#(form._((lib._racket/contract/region..rkt)._define/contract))" class="RktStxLink" pltdoc="x">define/contract</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">on-cats-path?</span><span class="hspace">&nbsp;</span><span class="RktSym">w</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">world?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../htdp/index.html#(def._((lib._lang/posn..rkt)._posn~3f))" class="RktValLink" pltdoc="x">posn?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._cond))" class="RktStxLink" pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">world-h-down?</span><span class="hspace">&nbsp;</span><span class="RktSym">w</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">edge-distance-map</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">build-bfs-table</span><span class="hspace">&nbsp;</span><span class="RktSym">w</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">boundary</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cat-distance-map</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">build-bfs-table</span><span class="hspace">&nbsp;</span><span class="RktSym">w</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">world-cat</span><span class="hspace">&nbsp;</span><span class="RktSym">w</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cat-distance</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lookup-in-table</span><span class="hspace">&nbsp;</span><span class="RktSym">edge-distance-map</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">world-cat</span><span class="hspace">&nbsp;</span><span class="RktSym">w</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._cond))" class="RktStxLink" pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._equal~3f))" class="RktValLink" pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">cat-distance</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">&#8734;</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="../reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._else))" class="RktStxLink" pltdoc="x">else</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._equal~3f))" class="RktValLink" pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">+/f</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lookup-in-table</span><span class="hspace">&nbsp;</span><span class="RktSym">cat-distance-map</span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lookup-in-table</span><span class="hspace">&nbsp;</span><span class="RktSym">edge-distance-map</span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">cat-distance</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="../reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._else))" class="RktStxLink" pltdoc="x">else</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>Finally, the helper function <span class="RktSym">+/f</span> is just like <span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" class="RktValLink" pltdoc="x">+</a></span>, except that
it returns <span class="RktVal">'</span><span class="RktVal">&#8734;</span> if either argument is <span class="RktVal">'</span><span class="RktVal">&#8734;</span>.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3c+/f~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#(elem._(chunk._~3c+/f~3e~3a1))" class="plainlink" pltdoc="x">&lt;+/f&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="../reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">+/f</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._cond))" class="RktStxLink" pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._or))" class="RktStxLink" pltdoc="x">or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._equal~3f))" class="RktValLink" pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">&#8734;</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/booleans.html#(def._((quote._~23~25kernel)._equal~3f))" class="RktValLink" pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">&#8734;</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">&#8734;</span><span class="RktPn">]</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="../reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._else))" class="RktStxLink" pltdoc="x">else</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="../reference/generic-numbers.html#(def._((quote._~23~25kernel)._+))" class="RktValLink" pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="Board_to_Graph.html" title="backward to &quot;1.18.4 Board to Graph&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="chat-noir.html" title="up to &quot;1.18  Chat Noir --- Puzzle Game&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Drawing_the_Cat.html" title="forward to &quot;1.18.6 Drawing the Cat&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>