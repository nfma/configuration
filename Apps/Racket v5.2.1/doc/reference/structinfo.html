<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>4.6&nbsp;Structure Type Transformer Binding</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="extras.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">The Racket Reference</span></a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="model.html" class="tocviewlink" pltdoc="x">Language Model</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="syntax.html" class="tocviewlink" pltdoc="x">Syntactic Forms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="data.html" class="tocviewlink" pltdoc="x">Datatypes</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="structures.html" class="tocviewselflink" pltdoc="x">Structures</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="mzlib_class.html" class="tocviewlink" pltdoc="x">Classes and Objects</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="mzlib_unit.html" class="tocviewlink" pltdoc="x">Units</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="contracts.html" class="tocviewlink" pltdoc="x">Contracts</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="match.html" class="tocviewlink" pltdoc="x">Pattern Matching</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="control.html" class="tocviewlink" pltdoc="x">Control Flow</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="concurrency.html" class="tocviewlink" pltdoc="x">Concurrency and Parallelism</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Macros.html" class="tocviewlink" pltdoc="x">Macros</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="input-and-output.html" class="tocviewlink" pltdoc="x">Input and Output</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="security.html" class="tocviewlink" pltdoc="x">Reflection and Security</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="os.html" class="tocviewlink" pltdoc="x">Operating System</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="memory.html" class="tocviewlink" pltdoc="x">Memory Management</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="unsafe.html" class="tocviewlink" pltdoc="x">Unsafe Operations</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="running.html" class="tocviewlink" pltdoc="x">Running Racket</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>4&nbsp;</td><td><a href="structures.html" class="tocviewlink" pltdoc="x">Structures</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">4.1&nbsp;</td><td><a href="define-struct.html" class="tocviewlink" pltdoc="x">Defining Structure Types:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">struct</span></span></a></td></tr><tr><td align="right">4.2&nbsp;</td><td><a href="creatingmorestructs.html" class="tocviewlink" pltdoc="x">Creating Structure Types</a></td></tr><tr><td align="right">4.3&nbsp;</td><td><a href="structprops.html" class="tocviewlink" pltdoc="x">Structure Type Properties</a></td></tr><tr><td align="right">4.4&nbsp;</td><td><a href="struct-copy.html" class="tocviewlink" pltdoc="x">Copying and Updating Structures</a></td></tr><tr><td align="right">4.5&nbsp;</td><td><a href="structutils.html" class="tocviewlink" pltdoc="x">Structure Utilities</a></td></tr><tr><td align="right">4.6&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Structure Type Transformer Binding</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(def._((lib._racket/struct-info..rkt)._struct-info~3f))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/struct-info"><span class="RktSym"><span class="RktValLink">struct-<wbr></wbr>info?</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/struct-info..rkt)._checked-struct-info~3f))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/struct-info"><span class="RktSym"><span class="RktValLink">checked-<wbr></wbr>struct-<wbr></wbr>info?</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/struct-info..rkt)._make-struct-info))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/struct-info"><span class="RktSym"><span class="RktValLink">make-<wbr></wbr>struct-<wbr></wbr>info</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/struct-info..rkt)._extract-struct-info))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/struct-info"><span class="RktSym"><span class="RktValLink">extract-<wbr></wbr>struct-<wbr></wbr>info</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/struct-info..rkt)._struct~3astruct-info))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/struct-info"><span class="RktSym"><span class="RktValLink">struct:<span class="mywbr"> </span>struct-<wbr></wbr>info</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/struct-info..rkt)._prop~3astruct-info))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/struct-info"><span class="RktSym"><span class="RktValLink">prop:<span class="mywbr"> </span>struct-<wbr></wbr>info</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/struct-info..rkt)._prop~3astruct-auto-info))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/struct-info"><span class="RktSym"><span class="RktValLink">prop:<span class="mywbr"> </span>struct-<wbr></wbr>auto-<wbr></wbr>info</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/struct-info..rkt)._struct-auto-info~3f))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/struct-info"><span class="RktSym"><span class="RktValLink">struct-<wbr></wbr>auto-<wbr></wbr>info?</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/struct-info..rkt)._struct-auto-info-lists))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/struct-info"><span class="RktSym"><span class="RktValLink">struct-<wbr></wbr>auto-<wbr></wbr>info-<wbr></wbr>lists</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="structutils.html" title="backward to &quot;4.5 Structure Utilities&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="structures.html" title="up to &quot;4 Structures&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="mzlib_class.html" title="forward to &quot;5 Classes and Objects&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>4.6<tt>&nbsp;</tt><a name="(part._structinfo)"></a><a name="(mod-path._racket/struct-info)"></a>Structure Type Transformer Binding</h4><p>The <span class="RktSym"><a href="define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span> form binds the name of a structure type as
a <a href="syntax-model.html#(tech._transformer._binding)" class="techoutside" pltdoc="x"><span class="techinside">transformer binding</span></a> that records the other identifiers bound
to the structure type, the constructor procedure, the predicate
procedure, and the field accessor and mutator procedures. This
information can be used during the expansion of other expressions via
<span class="RktSym"><a href="stxtrans.html#(def._((quote._~23~25kernel)._syntax-local-value))" class="RktValLink" pltdoc="x">syntax-local-value</a></span>.</p><p>For example, the <span class="RktSym"><a href="define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span> variant for subtypes uses the
base type name <span class="RktVar">t</span> to find the variable
<span class="RktSym">struct:</span><span class="RktVar">t</span> containing the base type&rsquo;s descriptor; it
also folds the field accessor and mutator information for the base
type into the information for the subtype. As another example, the
<span class="RktSym"><a href="match.html#(form._((lib._racket/match..rkt)._match))" class="RktStxLink" pltdoc="x">match</a></span> form uses a type name to find the predicates and field
accessors for the structure type. The <span class="RktSym"><a href="define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span> form in an
imported signature for <span class="RktSym"><a href="creatingunits.html#(form._((lib._mzlib/unit..rkt)._unit))" class="RktStxLink" pltdoc="x">unit</a></span> causes the <span class="RktSym"><a href="creatingunits.html#(form._((lib._mzlib/unit..rkt)._unit))" class="RktStxLink" pltdoc="x">unit</a></span>
transformer to generate information about imported structure types, so
that <span class="RktSym"><a href="match.html#(form._((lib._racket/match..rkt)._match))" class="RktStxLink" pltdoc="x">match</a></span> and subtyping <span class="RktSym"><a href="define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span> forms work
within the unit.</p><p>The expansion-time information for a structure type can be represented
directly as a list of six elements (of the same sort that the
encapsulated procedure must return):</p><ul><li><p>an identifier that is bound to the structure type&rsquo;s descriptor,
or <span class="RktVal">#f</span> if none is known;</p></li><li><p>an identifier that is bound to the structure type&rsquo;s constructor,
or <span class="RktVal">#f</span> if none is known;</p></li><li><p>an identifier that is bound to the structure type&rsquo;s predicate,
or <span class="RktVal">#f</span> if none is known;</p></li><li><p>a list of identifiers bound to the field accessors of the
structure type, optionally with <span class="RktVal">#f</span> as the list&rsquo;s last
element. A <span class="RktVal">#f</span> as the last element indicates that the
structure type may have additional fields, otherwise the list is a
reliable indicator of the number of fields in the structure
type. Furthermore, the accessors are listed in reverse order for the
corresponding constructor arguments. (The reverse order enables
sharing in the lists for a subtype and its base type.)</p></li><li><p>a list of identifiers bound to the field mutators of
the structure type, or <span class="RktVal">#f</span> for each field that has no known
mutator, and optionally with an extra <span class="RktVal">#f</span> as the list&rsquo;s last
element (if the accessor list has such a <span class="RktVal">#f</span>). The list&rsquo;s
order and the meaning of a final <span class="RktVal">#f</span> are the same as for the
accessor identifiers, and the length of the mutator list is the same
as the accessor list&rsquo;s length.</p></li><li><p>an identifier that determines a super-type for the structure
type, <span class="RktVal">#f</span> if the super-type (if any) is unknown, or
<span class="RktVal">#t</span> if there is no super-type. If a super-type is specified,
the identifier is also bound to structure-type expansion-time
information.</p></li></ul><p>Instead of this direct representation, the representation can be a
structure created by <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._make-struct-info))" class="RktValLink" pltdoc="x">make-struct-info</a></span> (or an instance of a
subtype of <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct~3astruct-info))" class="RktValLink" pltdoc="x">struct:struct-info</a></span>), which encapsulates a
procedure that takes no arguments and returns a list of six
elements. Alternately, the representation can be a structure whose
type has the <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._prop~3astruct-info))" class="RktValLink" pltdoc="x">prop:struct-info</a></span> <a href="structprops.html#(tech._structure._type._property)" class="techoutside" pltdoc="x"><span class="techinside">structure type property</span></a>.
Finally, the representation can be an instance of a structure type
derived from <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct~3astruct-info))" class="RktValLink" pltdoc="x">struct:struct-info</a></span> or with the
<span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._prop~3astruct-info))" class="RktValLink" pltdoc="x">prop:struct-info</a></span> property that also implements
<span class="RktSym"><a href="procedures.html#(def._((lib._racket/private/base..rkt)._prop~3aprocedure))" class="RktValLink" pltdoc="x">prop:procedure</a></span>, and where the instance is further is wrapped
by <span class="RktSym"><a href="stxtrans.html#(def._((quote._~23~25kernel)._make-set!-transformer))" class="RktValLink" pltdoc="x">make-set!-transformer</a></span>. In addition, the representation may
implement the <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._prop~3astruct-auto-info))" class="RktValLink" pltdoc="x">prop:struct-auto-info</a></span> property.</p><p>Use <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct-info~3f))" class="RktValLink" pltdoc="x">struct-info?</a></span> to recognize all allowed forms of the
information, and use <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._extract-struct-info))" class="RktValLink" pltdoc="x">extract-struct-info</a></span> to obtain a list
from any representation.</p><p>The implementor of a syntactic form can expect users of the form to
know what kind of information is available about a structure type. For
example, the <span class="RktSym"><a href="match.html#(form._((lib._racket/match..rkt)._match))" class="RktStxLink" pltdoc="x">match</a></span> implementation works with structure
information containing an incomplete set of accessor bindings, because
the user is assumed to know what information is available in the
context of the <span class="RktSym"><a href="match.html#(form._((lib._racket/match..rkt)._match))" class="RktStxLink" pltdoc="x">match</a></span> expression. In particular, the
<span class="RktSym"><a href="match.html#(form._((lib._racket/match..rkt)._match))" class="RktStxLink" pltdoc="x">match</a></span> expression can appear in a <span class="RktSym"><a href="creatingunits.html#(form._((lib._mzlib/unit..rkt)._unit))" class="RktStxLink" pltdoc="x">unit</a></span> form with an
imported structure type, in which case the user is expected to know
the set of fields that are listed in the signature for the structure
type.</p><p><div class="SIntrapara"><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" pltdoc="x"><span class="RktSym">racket/struct-info</span></a><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">The bindings documented in this section are provided by the <a href="" class="RktModLink" pltdoc="x"><span class="RktSym">racket/struct-info</span></a> library, not <a href="index.html" class="RktModLink" pltdoc="x"><span class="RktSym">racket/base</span></a> or <a href="index.html" class="RktModLink" pltdoc="x"><span class="RktSym">racket</span></a>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._racket/struct-info..rkt)._struct-info~3f))"></a><span title="Provided from: racket/struct-info"><span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct-info~3f))" class="RktValLink" pltdoc="x">struct-info?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">v</span> is either a six-element list with
the correct shape for representing structure-type information, a
procedure encapsulated by <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._make-struct-info))" class="RktValLink" pltdoc="x">make-struct-info</a></span>, a structure with
the <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._prop~3astruct-info))" class="RktValLink" pltdoc="x">prop:struct-info</a></span> property, or a structure type derived
from <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct~3astruct-info))" class="RktValLink" pltdoc="x">struct:struct-info</a></span> or with <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._prop~3astruct-info))" class="RktValLink" pltdoc="x">prop:struct-info</a></span> and
wrapped with <span class="RktSym"><a href="stxtrans.html#(def._((quote._~23~25kernel)._make-set!-transformer))" class="RktValLink" pltdoc="x">make-set!-transformer</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._racket/struct-info..rkt)._checked-struct-info~3f))"></a><span title="Provided from: racket/struct-info"><span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._checked-struct-info~3f))" class="RktValLink" pltdoc="x">checked-struct-info?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">v</span> is a procedure encapsulated by
<span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._make-struct-info))" class="RktValLink" pltdoc="x">make-struct-info</a></span> and produced by <span class="RktSym"><a href="define-struct.html#(form._((lib._racket/private/base..rkt)._struct))" class="RktStxLink" pltdoc="x">struct</a></span>, but
only when no parent type is specified or the parent type is also
specified through a transformer binding to such a value.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._racket/struct-info..rkt)._make-struct-info))"></a><span title="Provided from: racket/struct-info"><span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._make-struct-info))" class="RktValLink" pltdoc="x">make-struct-info</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">thunk</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct-info~3f))" class="RktValLink" pltdoc="x">struct-info?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">thunk</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._and/c))" class="RktValLink" pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct-info~3f))" class="RktValLink" pltdoc="x">struct-info?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Encapsulates a thunk that returns structure-type information in list
form.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._racket/struct-info..rkt)._extract-struct-info))"></a><span title="Provided from: racket/struct-info"><span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._extract-struct-info))" class="RktValLink" pltdoc="x">extract-struct-info</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._and/c))" class="RktValLink" pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct-info~3f))" class="RktValLink" pltdoc="x">struct-info?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="pairs.html#(def._((quote._~23~25kernel)._list~3f))" class="RktValLink" pltdoc="x">list?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct-info~3f))" class="RktValLink" pltdoc="x">struct-info?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Extracts the list form of the structure type information represented
by <span class="RktVar">v</span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><a name="(def._((lib._racket/struct-info..rkt)._struct~3astruct-info))"></a><span title="Provided from: racket/struct-info"><span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct~3astruct-info))" class="RktValLink" pltdoc="x">struct:struct-info</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="structutils.html#(def._((quote._~23~25kernel)._struct-type~3f))" class="RktValLink" pltdoc="x">struct-type?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">The <a href="define-struct.html#(tech._structure._type._descriptor)" class="techoutside" pltdoc="x"><span class="techinside">structure type descriptor</span></a> for the structure type returned
by <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._make-struct-info))" class="RktValLink" pltdoc="x">make-struct-info</a></span>. This <a href="define-struct.html#(tech._structure._type._descriptor)" class="techoutside" pltdoc="x"><span class="techinside">structure type descriptor</span></a> is
mostly useful for creating structure subtypes. The structure type
includes a guard that checks an instance&rsquo;s first field in the same way
as <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._make-struct-info))" class="RktValLink" pltdoc="x">make-struct-info</a></span>.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><a name="(def._((lib._racket/struct-info..rkt)._prop~3astruct-info))"></a><span title="Provided from: racket/struct-info"><span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._prop~3astruct-info))" class="RktValLink" pltdoc="x">prop:struct-info</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="structprops.html#(def._((quote._~23~25kernel)._struct-type-property~3f))" class="RktValLink" pltdoc="x">struct-type-property?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">The <a href="structprops.html#(tech._structure._type._property)" class="techoutside" pltdoc="x"><span class="techinside">structure type property</span></a> for creating new structure types
like <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct~3astruct-info))" class="RktValLink" pltdoc="x">struct:struct-info</a></span>. The property value must be a procedure
of one argument that takes an instance structure and returns
structure-type information in list form.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><table cellspacing="0" class="together"><tr><td><a name="(def._((lib._racket/struct-info..rkt)._prop~3astruct-auto-info))"></a><span title="Provided from: racket/struct-info"><span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._prop~3astruct-auto-info))" class="RktValLink" pltdoc="x">prop:struct-auto-info</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="structprops.html#(def._((quote._~23~25kernel)._struct-type-property~3f))" class="RktValLink" pltdoc="x">struct-type-property?</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(def._((lib._racket/struct-info..rkt)._struct-auto-info~3f))"></a><span title="Provided from: racket/struct-info"><span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct-auto-info~3f))" class="RktValLink" pltdoc="x">struct-auto-info?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">v</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(def._((lib._racket/struct-info..rkt)._struct-auto-info-lists))"></a><span title="Provided from: racket/struct-info"><span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct-auto-info-lists))" class="RktValLink" pltdoc="x">struct-auto-info-lists</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">sai</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._list/c))" class="RktValLink" pltdoc="x">list/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="stxops.html#(def._((lib._racket/private/stx..rkt)._identifier~3f))" class="RktValLink" pltdoc="x">identifier?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="stxops.html#(def._((lib._racket/private/stx..rkt)._identifier~3f))" class="RktValLink" pltdoc="x">identifier?</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">sai</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct-auto-info~3f))" class="RktValLink" pltdoc="x">struct-auto-info?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">The <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._prop~3astruct-auto-info))" class="RktValLink" pltdoc="x">prop:struct-auto-info</a></span> property is implemented to provide
static information about which of the accessor and mutator identifiers
for a structure type correspond to <span class="RktPn">#:auto</span> fields (so that
they have no corresponding argument in the constructor). The property
value must be a procedure that accepts an instance structure to which
the property is given, and the result must be two lists of identifiers
suitable as a result from <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct-auto-info-lists))" class="RktValLink" pltdoc="x">struct-auto-info-lists</a></span>.</div></p><p>The <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct-auto-info~3f))" class="RktValLink" pltdoc="x">struct-auto-info?</a></span> predicate recognizes values that
implement the <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._prop~3astruct-auto-info))" class="RktValLink" pltdoc="x">prop:struct-auto-info</a></span> property.</p><p>The <span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._struct-auto-info-lists))" class="RktValLink" pltdoc="x">struct-auto-info-lists</a></span> function extracts two lists of
identifiers from a value that implements the
<span class="RktSym"><a href="#(def._((lib._racket/struct-info..rkt)._prop~3astruct-auto-info))" class="RktValLink" pltdoc="x">prop:struct-auto-info</a></span> property. The first list should be a
subset of the accessor identifiers for the structure type described by
<span class="RktVar">sai</span>, and the second list should be a subset of the mutator
identifiers. The two subsets correspond to <span class="RktPn">#:auto</span> fields.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="structutils.html" title="backward to &quot;4.5 Structure Utilities&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="structures.html" title="up to &quot;4 Structures&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="mzlib_class.html" title="forward to &quot;5 Classes and Objects&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>