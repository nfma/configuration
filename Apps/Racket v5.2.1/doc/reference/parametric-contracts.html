<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>7.3&nbsp;Parametric Contracts</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="extras.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">The Racket Reference</span></a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="model.html" class="tocviewlink" pltdoc="x">Language Model</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="syntax.html" class="tocviewlink" pltdoc="x">Syntactic Forms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="data.html" class="tocviewlink" pltdoc="x">Datatypes</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="structures.html" class="tocviewlink" pltdoc="x">Structures</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="mzlib_class.html" class="tocviewlink" pltdoc="x">Classes and Objects</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="mzlib_unit.html" class="tocviewlink" pltdoc="x">Units</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="contracts.html" class="tocviewselflink" pltdoc="x">Contracts</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="match.html" class="tocviewlink" pltdoc="x">Pattern Matching</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="control.html" class="tocviewlink" pltdoc="x">Control Flow</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="concurrency.html" class="tocviewlink" pltdoc="x">Concurrency and Parallelism</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Macros.html" class="tocviewlink" pltdoc="x">Macros</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="input-and-output.html" class="tocviewlink" pltdoc="x">Input and Output</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="security.html" class="tocviewlink" pltdoc="x">Reflection and Security</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="os.html" class="tocviewlink" pltdoc="x">Operating System</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="memory.html" class="tocviewlink" pltdoc="x">Memory Management</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="unsafe.html" class="tocviewlink" pltdoc="x">Unsafe Operations</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="running.html" class="tocviewlink" pltdoc="x">Running Racket</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>7&nbsp;</td><td><a href="contracts.html" class="tocviewlink" pltdoc="x">Contracts</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">7.1&nbsp;</td><td><a href="data-structure-contracts.html" class="tocviewlink" pltdoc="x">Data-<wbr></wbr>structure Contracts</a></td></tr><tr><td align="right">7.2&nbsp;</td><td><a href="function-contracts.html" class="tocviewlink" pltdoc="x">Function Contracts</a></td></tr><tr><td align="right">7.3&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Parametric Contracts</a></td></tr><tr><td align="right">7.4&nbsp;</td><td><a href="Lazy_Data-structure_Contracts.html" class="tocviewlink" pltdoc="x">Lazy Data-<wbr></wbr>structure Contracts</a></td></tr><tr><td align="right">7.5&nbsp;</td><td><a href="Structure_Type_Property_Contracts.html" class="tocviewlink" pltdoc="x">Structure Type Property Contracts</a></td></tr><tr><td align="right">7.6&nbsp;</td><td><a href="attaching-contracts-to-values.html" class="tocviewlink" pltdoc="x">Attaching Contracts to Values</a></td></tr><tr><td align="right">7.7&nbsp;</td><td><a href="Building_New_Contract_Combinators.html" class="tocviewlink" pltdoc="x">Building New Contract Combinators</a></td></tr><tr><td align="right">7.8&nbsp;</td><td><a href="contract-utilities.html" class="tocviewlink" pltdoc="x">Contract Utilities</a></td></tr><tr><td align="right">7.9&nbsp;</td><td><a href="racket_contract_base.html" class="tocviewlink" pltdoc="x"><span class="RktModLink"><span class="RktSym">racket/<span class="mywbr"> </span>contract/<span class="mywbr"> </span>base</span></span></a></td></tr><tr><td align="right">7.10&nbsp;</td><td><a href="Legacy_Contracts.html" class="tocviewlink" pltdoc="x">Legacy Contracts</a></td></tr><tr><td align="right">7.11&nbsp;</td><td><a href="Random_generation.html" class="tocviewlink" pltdoc="x">Random generation</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(form._((lib._racket/contract/parametric..rkt)._parametric-~3e/c))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/contract/parametric, racket/contract, racket"><span class="RktSym"><span class="RktStxLink">parametric-<wbr></wbr>&gt;/<span class="mywbr"> </span>c</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/parametric..rkt)._new-~e2~88~80/c))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/contract/parametric, racket/contract, racket"><span class="RktSym"><span class="RktValLink">new-<wbr></wbr>∀/<span class="mywbr"> </span>c</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._racket/contract/parametric..rkt)._new-~e2~88~83/c))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/contract/parametric, racket/contract, racket"><span class="RktSym"><span class="RktValLink">new-<wbr></wbr>∃/<span class="mywbr"> </span>c</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="function-contracts.html" title="backward to &quot;7.2 Function Contracts&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="contracts.html" title="up to &quot;7 Contracts&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Lazy_Data-structure_Contracts.html" title="forward to &quot;7.4 Lazy Data-structure Contracts&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>7.3<tt>&nbsp;</tt><a name="(part._parametric-contracts)"></a><a name="(mod-path._racket/contract/parametric)"></a>Parametric Contracts</h4><p><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="stt"> </span><a href="" class="RktModLink" pltdoc="x"><span class="RktSym">racket/contract/parametric</span></a><span class="RktPn">)</span></td></tr></table></p><p>The most convenient way to use parametric contract is to use
<span class="RktSym"><a href="attaching-contracts-to-values.html#(form._((lib._racket/contract/base..rkt)._contract-out))" class="RktStxLink" pltdoc="x">contract-out</a></span>&rsquo;s <span class="RktPn">#:exists</span> keyword.
The <a href="" class="RktModLink" pltdoc="x"><span class="RktSym">racket/contract/parametric</span></a> provides a few more,
general-purpose parametric contracts.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._((lib._racket/contract/parametric..rkt)._parametric-~3e/c))"></a><span title="Provided from: racket/contract/parametric, racket/contract, racket"><span class="RktSym"><a href="#(form._((lib._racket/contract/parametric..rkt)._parametric-~3e/c))" class="RktStxLink" pltdoc="x">parametric-&gt;/c</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">c</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Creates a contract for parametric polymorphic functions.  Each function is
protected by <span class="RktVar">c</span>, where each <span class="RktVar">x</span> is bound in <span class="RktVar">c</span> and refers
to a polymorphic type that is instantiated each time the function is applied.</div></p><p>At each application of a function, the <span class="RktSym"><a href="#(form._((lib._racket/contract/parametric..rkt)._parametric-~3e/c))" class="RktStxLink" pltdoc="x">parametric-&gt;/c</a></span> contract constructs
a new opaque wrapper for each <span class="RktVar">x</span>; values flowing into the polymorphic
function (i.e. values protected by some <span class="RktVar">x</span> in negative position with
respect to <span class="RktSym"><a href="#(form._((lib._racket/contract/parametric..rkt)._parametric-~3e/c))" class="RktStxLink" pltdoc="x">parametric-&gt;/c</a></span>) are wrapped in the corresponding opaque
wrapper.  Values flowing out of the polymorphic function (i.e. values protected
by some <span class="RktVar">x</span> in positive position with respect to <span class="RktSym"><a href="#(form._((lib._racket/contract/parametric..rkt)._parametric-~3e/c))" class="RktStxLink" pltdoc="x">parametric-&gt;/c</a></span>)
are checked for the appropriate wrapper.  If they have it, they are unwrapped;
if they do not, a contract violation is signaled.</p><p><table cellspacing="0" class="RktBlk"><tr><td><p>Examples:</p></td></tr><tr><td><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="attaching-contracts-to-values.html#(form._((lib._racket/contract/region..rkt)._define/contract))" class="RktStxLink" pltdoc="x">define/contract</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">check</span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((lib._racket/contract/parametric..rkt)._parametric-~3e/c))" class="RktStxLink" pltdoc="x">parametric-&gt;/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">[</span><span class="RktSym">X</span><span class="RktPn">]</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((quote._~23~25kernel)._if))" class="RktStxLink" pltdoc="x">if</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="if.html#(form._((lib._racket/private/letstx-scheme..rkt)._or))" class="RktStxLink" pltdoc="x">or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._not))" class="RktValLink" pltdoc="x">not</a></span><span class="hspace">&nbsp;</span><span class="RktVar">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="booleans.html#(def._((quote._~23~25kernel)._equal~3f))" class="RktValLink" pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">surprise</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">invalid</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0"><tr><td></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">check</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ok</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'ok</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">check</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">ignored</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktErr">check: self-contract violation, expected a(n) X; got:</span></p></td></tr><tr><td><p><span class="RktErr">'invalid</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract from: (function check), blaming: (function check)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">contract: (parametric-&gt;/c (X) ...)</span></p></td></tr><tr><td><p><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr"></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktErr">at: eval:2.0</span></p></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">check</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">surprise</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">'surprise</span></p></td></tr></table></blockquote></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._racket/contract/parametric..rkt)._new-~e2~88~80/c))"></a><span title="Provided from: racket/contract/parametric, racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/parametric..rkt)._new-~e2~88~80/c))" class="RktValLink" pltdoc="x">new-&#8704;/c</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="contract-utilities.html#(def._((lib._racket/contract/private/misc..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a new universal contract.</div></p><p>Universal contracts accept all values when in negative positions (e.g., function
inputs) and wrap them in an opaque struct, hiding the precise value.
In positive positions (e.g. function returns),
a universal contract accepts only values that were previously accepted
in negative positions (by checking for the wrappers).</p><p>The name is used to identify the contract in error messages.</p><p><div class="SIntrapara">For example, this contract:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/parametric..rkt)._new-~e2~88~80/c))" class="RktValLink" pltdoc="x">new-&#8704;/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">describes the identity function (or a non-terminating function)
That is, the first use of the <span class="RktSym">a</span> appears in a
negative position and thus inputs to that function are wrapped with an opaque struct.
Then, when the function returns, it is checked to determine whether the result is wrapped, since
the second <span class="RktSym">a</span> appears in a positive position.</div></p><p>The <span class="RktSym"><a href="#(def._((lib._racket/contract/parametric..rkt)._new-~e2~88~80/c))" class="RktValLink" pltdoc="x">new-&#8704;/c</a></span> construct constructor is dual to <span class="RktSym"><a href="#(def._((lib._racket/contract/parametric..rkt)._new-~e2~88~83/c))" class="RktValLink" pltdoc="x">new-&#8707;/c</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._((lib._racket/contract/parametric..rkt)._new-~e2~88~83/c))"></a><span title="Provided from: racket/contract/parametric, racket/contract, racket"><span class="RktSym"><a href="#(def._((lib._racket/contract/parametric..rkt)._new-~e2~88~83/c))" class="RktValLink" pltdoc="x">new-&#8707;/c</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="contract-utilities.html#(def._((lib._racket/contract/private/misc..rkt)._contract~3f))" class="RktValLink" pltdoc="x">contract?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="symbols.html#(def._((quote._~23~25kernel)._symbol~3f))" class="RktValLink" pltdoc="x">symbol?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Constructs a new existential contract.</div></p><p>Existential contracts accept all values when in positive positions (e.g., function
returns) and wrap them in an opaque struct, hiding the precise value.
In negative positions (e.g. function inputs),
they accepts only values that were previously accepted in positive positions (by checking
for the wrappers).</p><p>The name is used to identify the contract in error messages.</p><p><div class="SIntrapara">For example, this contract:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._((lib._racket/contract/parametric..rkt)._new-~e2~88~83/c))" class="RktValLink" pltdoc="x">new-&#8707;/c</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="function-contracts.html#(form._((lib._racket/contract/base..rkt)._-~3e))" class="RktStxLink" pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="data-structure-contracts.html#(def._((lib._racket/contract/private/misc..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">describes a function that accepts the identity function (or a non-terminating function)
and returns an arbitrary value. That is, the first use of the <span class="RktSym">a</span> appears in a
positive position and thus inputs to that function are wrapped with an opaque struct.
Then, when the function returns, it is checked to see if the result is wrapped, since
the second <span class="RktSym">a</span> appears in a negative position.</div></p><p>The <span class="RktSym"><a href="#(def._((lib._racket/contract/parametric..rkt)._new-~e2~88~83/c))" class="RktValLink" pltdoc="x">new-&#8707;/c</a></span> construct constructor is dual to <span class="RktSym"><a href="#(def._((lib._racket/contract/parametric..rkt)._new-~e2~88~80/c))" class="RktValLink" pltdoc="x">new-&#8704;/c</a></span>.</p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="function-contracts.html" title="backward to &quot;7.2 Function Contracts&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="contracts.html" title="up to &quot;7 Contracts&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Lazy_Data-structure_Contracts.html" title="forward to &quot;7.4 Lazy Data-structure Contracts&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>