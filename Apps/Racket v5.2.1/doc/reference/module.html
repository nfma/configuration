<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>2.1&nbsp;Modules: module, ...</title><link rel="stylesheet" type="text/css" href="../scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="extras.css" title="default" /><link rel="stylesheet" type="text/css" href="../racket.css" title="default" /><link rel="stylesheet" type="text/css" href="../scribble-style.css" title="default" /><script type="text/javascript" src="../scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">The Racket Reference</span></a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="model.html" class="tocviewlink" pltdoc="x">Language Model</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="syntax.html" class="tocviewselflink" pltdoc="x">Syntactic Forms</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="data.html" class="tocviewlink" pltdoc="x">Datatypes</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="structures.html" class="tocviewlink" pltdoc="x">Structures</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="mzlib_class.html" class="tocviewlink" pltdoc="x">Classes and Objects</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="mzlib_unit.html" class="tocviewlink" pltdoc="x">Units</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="contracts.html" class="tocviewlink" pltdoc="x">Contracts</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="match.html" class="tocviewlink" pltdoc="x">Pattern Matching</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="control.html" class="tocviewlink" pltdoc="x">Control Flow</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="concurrency.html" class="tocviewlink" pltdoc="x">Concurrency and Parallelism</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="Macros.html" class="tocviewlink" pltdoc="x">Macros</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="input-and-output.html" class="tocviewlink" pltdoc="x">Input and Output</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="security.html" class="tocviewlink" pltdoc="x">Reflection and Security</a></td></tr><tr><td align="right">14&nbsp;</td><td><a href="os.html" class="tocviewlink" pltdoc="x">Operating System</a></td></tr><tr><td align="right">15&nbsp;</td><td><a href="memory.html" class="tocviewlink" pltdoc="x">Memory Management</a></td></tr><tr><td align="right">16&nbsp;</td><td><a href="unsafe.html" class="tocviewlink" pltdoc="x">Unsafe Operations</a></td></tr><tr><td align="right">17&nbsp;</td><td><a href="running.html" class="tocviewlink" pltdoc="x">Running Racket</a></td></tr><tr><td align="right"></td><td><a href="doc-bibliography.html" class="tocviewlink" pltdoc="x">Bibliography</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>2&nbsp;</td><td><a href="syntax.html" class="tocviewlink" pltdoc="x">Syntactic Forms</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Modules:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">module</span></span>, ...</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="require.html" class="tocviewlink" pltdoc="x">Importing and Exporting:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">require</span></span> and <span class="RktSym"><span class="RktStxLink">provide</span></span></a></td></tr><tr><td align="right">2.3&nbsp;</td><td><a href="quote.html" class="tocviewlink" pltdoc="x">Literals:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">quote</span></span> and <span class="RktSym"><span class="RktStxLink">#%datum</span></span></a></td></tr><tr><td align="right">2.4&nbsp;</td><td><a href="__expression.html" class="tocviewlink" pltdoc="x">Expression Wrapper:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">#%expression</span></span></a></td></tr><tr><td align="right">2.5&nbsp;</td><td><a href="__top.html" class="tocviewlink" pltdoc="x">Variable References and <span class="RktSym"><span class="RktStxLink">#%top</span></span></a></td></tr><tr><td align="right">2.6&nbsp;</td><td><a href="Locations____variable-reference.html" class="tocviewlink" pltdoc="x">Locations:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">#%variable-<wbr></wbr>reference</span></span></a></td></tr><tr><td align="right">2.7&nbsp;</td><td><a href="application.html" class="tocviewlink" pltdoc="x">Procedure Applications and <span class="RktSym"><span class="RktStxLink">#%app</span></span></a></td></tr><tr><td align="right">2.8&nbsp;</td><td><a href="lambda.html" class="tocviewlink" pltdoc="x">Procedure Expressions:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">lambda</span></span> and <span class="RktSym"><span class="RktStxLink">case-<wbr></wbr>lambda</span></span></a></td></tr><tr><td align="right">2.9&nbsp;</td><td><a href="let.html" class="tocviewlink" pltdoc="x">Local Binding:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">let</span></span>, <span class="RktSym"><span class="RktStxLink">let*</span></span>, <span class="RktSym"><span class="RktStxLink">letrec</span></span>, ...</a></td></tr><tr><td align="right">2.10&nbsp;</td><td><a href="local.html" class="tocviewlink" pltdoc="x">Local Definitions:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">local</span></span></a></td></tr><tr><td align="right">2.11&nbsp;</td><td><a href="shared.html" class="tocviewlink" pltdoc="x">Constructing Graphs:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">shared</span></span></a></td></tr><tr><td align="right">2.12&nbsp;</td><td><a href="if.html" class="tocviewlink" pltdoc="x">Conditionals:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">if</span></span>, <span class="RktSym"><span class="RktStxLink">cond</span></span>, <span class="RktSym"><span class="RktStxLink">and</span></span>, and <span class="RktSym"><span class="RktStxLink">or</span></span></a></td></tr><tr><td align="right">2.13&nbsp;</td><td><a href="case.html" class="tocviewlink" pltdoc="x">Dispatch:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">case</span></span></a></td></tr><tr><td align="right">2.14&nbsp;</td><td><a href="define.html" class="tocviewlink" pltdoc="x">Definitions:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">define</span></span>, <span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>syntax</span></span>, ...</a></td></tr><tr><td align="right">2.15&nbsp;</td><td><a href="begin.html" class="tocviewlink" pltdoc="x">Sequencing:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">begin</span></span>, <span class="RktSym"><span class="RktStxLink">begin0</span></span>, and <span class="RktSym"><span class="RktStxLink">begin-<wbr></wbr>for-<wbr></wbr>syntax</span></span></a></td></tr><tr><td align="right">2.16&nbsp;</td><td><a href="when_unless.html" class="tocviewlink" pltdoc="x">Guarded Evaluation:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">when</span></span> and <span class="RktSym"><span class="RktStxLink">unless</span></span></a></td></tr><tr><td align="right">2.17&nbsp;</td><td><a href="set_.html" class="tocviewlink" pltdoc="x">Assignment:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">set!</span></span> and <span class="RktSym"><span class="RktStxLink">set!-<wbr></wbr>values</span></span></a></td></tr><tr><td align="right">2.18&nbsp;</td><td><a href="for.html" class="tocviewlink" pltdoc="x">Iterations and Comprehensions:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">for</span></span>, <span class="RktSym"><span class="RktStxLink">for/<span class="mywbr"> </span>list</span></span>, ...</a></td></tr><tr><td align="right">2.19&nbsp;</td><td><a href="wcm.html" class="tocviewlink" pltdoc="x">Continuation Marks:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">with-<wbr></wbr>continuation-<wbr></wbr>mark</span></span></a></td></tr><tr><td align="right">2.20&nbsp;</td><td><a href="quasiquote.html" class="tocviewlink" pltdoc="x">Quasiquoting:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">quasiquote</span></span>, <span class="RktSym"><span class="RktStxLink">unquote</span></span>, and <span class="RktSym"><span class="RktStxLink">unquote-<wbr></wbr>splicing</span></span></a></td></tr><tr><td align="right">2.21&nbsp;</td><td><a href="Syntax_Quoting__quote-syntax.html" class="tocviewlink" pltdoc="x">Syntax Quoting:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">quote-<wbr></wbr>syntax</span></span></a></td></tr><tr><td align="right">2.22&nbsp;</td><td><a href="__top-interaction.html" class="tocviewlink" pltdoc="x">Interaction Wrapper:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">#%top-<wbr></wbr>interaction</span></span></a></td></tr><tr><td align="right">2.23&nbsp;</td><td><a href="package.html" class="tocviewlink" pltdoc="x">Limiting Scope:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">define-<wbr></wbr>package</span></span>, <span class="RktSym"><span class="RktStxLink">open-<wbr></wbr>package</span></span>, ...</a></td></tr><tr><td align="right">2.24&nbsp;</td><td><a href="block.html" class="tocviewlink" pltdoc="x">Blocks:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">block</span></span></a></td></tr><tr><td align="right">2.25&nbsp;</td><td><a href="stratified-body.html" class="tocviewlink" pltdoc="x">Internal-<wbr></wbr>Definition Limiting:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">#%stratified-<wbr></wbr>body</span></span></a></td></tr><tr><td align="right">2.26&nbsp;</td><td><a href="performance-hint.html" class="tocviewlink" pltdoc="x">Performance Hints:<span class="mywbr"> </span> <span class="RktSym"><span class="RktStxLink">begin-<wbr></wbr>encourage-<wbr></wbr>inline</span></span></a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(form._((quote._~23~25kernel)._module))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">module</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._~23~25module-begin))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">#%module-<wbr></wbr>begin</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._racket/private/base..rkt)._~23~25plain-module-begin))" class="tocsublink" pltdoc="x"><span title="Provided from: racket/base, racket"><span class="RktSym"><span class="RktStxLink">#%plain-<wbr></wbr>module-<wbr></wbr>begin</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="syntax.html" title="backward to &quot;2 Syntactic Forms&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="syntax.html" title="up to &quot;2 Syntactic Forms&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="require.html" title="forward to &quot;2.2 Importing and Exporting: require and provide&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>2.1<tt>&nbsp;</tt><a name="(part._module)"></a>Modules: <span class="RktSym"><a href="#(form._((quote._~23~25kernel)._module))" class="RktStxLink" pltdoc="x">module</a></span>, ...</h4><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span class="imageleft"><img src="finger.png" alt="+" /></span><a href="../guide/Module_Syntax.html#(part._module-syntax)" pltdoc="x">The <span class="RktSym"><span class="RktStxLink">module</span></span> Form</a> in <a href="../guide/index.html" pltdoc="x"><span style="font-weight: bold">The Racket Guide</span></a> introduces <span class="RktSym"><a href="#(form._((quote._~23~25kernel)._module))" class="RktStxLink" pltdoc="x">module</a></span>.</p></blockquote></blockquote></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._((quote._~23~25kernel)._module))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((quote._~23~25kernel)._module))" class="RktStxLink" pltdoc="x">module</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">module-path</span><span class="hspace">&nbsp;</span><span class="RktVar">form</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Declares a top-level module. If the
<span class="RktSym"><a href="Module_Names_and_Loading.html#(def._((quote._~23~25kernel)._current-module-declare-name))" class="RktValLink" pltdoc="x">current-module-declare-name</a></span> parameter is set, the parameter
value is used for the module name and <span class="RktVar">id</span> is ignored,
otherwise <span class="RktPn">(</span><span class="RktSym"><a href="quote.html#(form._((quote._~23~25kernel)._quote))" class="RktStxLink" pltdoc="x">quote</a></span><span class="stt"> </span><span class="RktVar">id</span><span class="RktPn">)</span> is the name of the declared
module.</div></p><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p><span class="imageleft"><img src="magnify.png" alt="+" /></span>For a <span class="RktSym"><a href="#(form._((quote._~23~25kernel)._module))" class="RktStxLink" pltdoc="x">module</a></span>-like form for use <span style="font-style: italic">within</span>
modules and other contexts, see <span class="RktSym"><a href="package.html#(form._((lib._racket/package..rkt)._define-package))" class="RktStxLink" pltdoc="x">define-package</a></span>.</p></blockquote></blockquote></blockquote><p>The <span class="RktVar">module-path</span> form must be as for <span class="RktSym"><a href="require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span>, and it
supplies the initial bindings for the body <span class="RktVar">form</span>s. That is, it
is treated like a <span class="RktPn">(</span><span class="RktSym"><a href="require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="stt"> </span><span class="RktVar">module-path</span><span class="RktPn">)</span> prefix before the
<span class="RktVar">form</span>s, except that the bindings introduced by
<span class="RktVar">module-path</span> can be shadowed by definitions and
<span class="RktSym"><a href="require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span>s in the module body <span class="RktVar">form</span>s.</p><p>If a single <span class="RktVar">form</span> is provided, then it is partially expanded
in a <a href="syntax-model.html#(tech._module._begin._context)" class="techoutside" pltdoc="x"><span class="techinside">module-begin context</span></a>. If the expansion leads to
<span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._~23~25plain-module-begin))" class="RktStxLink" pltdoc="x">#%plain-module-begin</a></span>, then the body of the
<span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._~23~25plain-module-begin))" class="RktStxLink" pltdoc="x">#%plain-module-begin</a></span> is the body of the module. If partial
expansion leads to any other primitive form, then the form is wrapped
with <span class="RktSym">#%module-begin</span> using the lexical context of the
module body; this identifier must be bound by the initial
<span class="RktVar">module-path</span> import, and its expansion must produce a
<span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._~23~25plain-module-begin))" class="RktStxLink" pltdoc="x">#%plain-module-begin</a></span> to supply the module body. Finally, if
multiple <span class="RktVar">form</span>s are provided, they are wrapped with
<span class="RktSym">#%module-begin</span>, as in the case where a single
<span class="RktVar">form</span> does not expand to <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._~23~25plain-module-begin))" class="RktStxLink" pltdoc="x">#%plain-module-begin</a></span>.</p><p>After such wrapping, if any, and before any expansion, an
<a name="(idx._(gentag._80._(lib._scribblings/reference/reference..scrbl)))"></a><span class="RktVal">'</span><span class="RktVal">enclosing-module-name</span> property is attached to the
<span class="RktSym">#%module-begin</span> syntax object (see
<a href="stxprops.html" pltdoc="x">Syntax Object Properties</a>); the property&rsquo;s value is a symbol
corresponding to <span class="RktVar">id</span>.</p><p>Each <span class="RktVar">form</span> is partially expanded (see
<a href="syntax-model.html#(part._partial-expansion)" pltdoc="x">Partial Expansion</a>) in a <a href="syntax-model.html#(tech._module._context)" class="techoutside" pltdoc="x"><span class="techinside">module context</span></a>. Further
action depends on the shape of the form:</p><ul><li><p>If it is a <span class="RktSym"><a href="begin.html#(form._((quote._~23~25kernel)._begin))" class="RktStxLink" pltdoc="x">begin</a></span> form, the sub-forms are flattened
out into the module&rsquo;s body and immediately processed in place of the
<span class="RktSym"><a href="begin.html#(form._((quote._~23~25kernel)._begin))" class="RktStxLink" pltdoc="x">begin</a></span>.</p></li><li><p>If it is a <span class="RktSym"><a href="define.html#(form._((quote._~23~25kernel)._define-syntaxes))" class="RktStxLink" pltdoc="x">define-syntaxes</a></span> form, then the right-hand side is
evaluated (in <a href="eval-model.html#(tech._phase)" class="techoutside" pltdoc="x"><span class="techinside">phase</span></a> 1), and the binding is immediately
installed for further partial expansion within the
module. Evaluation of the right-hand side is <span class="RktSym"><a href="parameters.html#(form._((lib._racket/private/more-scheme..rkt)._parameterize))" class="RktStxLink" pltdoc="x">parameterize</a></span>d
to set <span class="RktSym"><a href="Namespaces.html#(def._((quote._~23~25kernel)._current-namespace))" class="RktValLink" pltdoc="x">current-namespace</a></span> as in <span class="RktSym"><a href="let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let-syntax))" class="RktStxLink" pltdoc="x">let-syntax</a></span>.</p></li><li><p>If it is a <span class="RktSym"><a href="begin.html#(form._((quote._~23~25kernel)._begin-for-syntax))" class="RktStxLink" pltdoc="x">begin-for-syntax</a></span> form, then the body is
expanded (in <a href="eval-model.html#(tech._phase)" class="techoutside" pltdoc="x"><span class="techinside">phase</span></a> 1) and evaluated. Expansion within a
<span class="RktSym"><a href="begin.html#(form._((quote._~23~25kernel)._begin-for-syntax))" class="RktStxLink" pltdoc="x">begin-for-syntax</a></span> form proceeds with the same
partial-expansion process as for a <span class="RktSym"><a href="#(form._((quote._~23~25kernel)._module))" class="RktStxLink" pltdoc="x">module</a></span> body, but in a
higher <a href="eval-model.html#(tech._phase)" class="techoutside" pltdoc="x"><span class="techinside">phase</span></a>, and saving all <span class="RktSym"><a href="require.html#(form._((quote._~23~25kernel)._~23~25provide))" class="RktStxLink" pltdoc="x">#%provide</a></span> forms for all
phases until the end of the <span class="RktSym"><a href="#(form._((quote._~23~25kernel)._module))" class="RktStxLink" pltdoc="x">module</a></span>&rsquo;s expansion. Evaluation
of the body is <span class="RktSym"><a href="parameters.html#(form._((lib._racket/private/more-scheme..rkt)._parameterize))" class="RktStxLink" pltdoc="x">parameterize</a></span>d to set
<span class="RktSym"><a href="Namespaces.html#(def._((quote._~23~25kernel)._current-namespace))" class="RktValLink" pltdoc="x">current-namespace</a></span> as in <span class="RktSym"><a href="let.html#(form._((lib._racket/private/letstx-scheme..rkt)._let-syntax))" class="RktStxLink" pltdoc="x">let-syntax</a></span>.</p></li><li><p>If the form is a <span class="RktSym"><a href="require.html#(form._((quote._~23~25kernel)._~23~25require))" class="RktStxLink" pltdoc="x">#%require</a></span> form, bindings are introduced
immediately, and the imported modules are <a href="eval-model.html#(tech._instantiate)" class="techoutside" pltdoc="x"><span class="techinside">instantiate</span></a>d or
<a href="syntax-model.html#(tech._visit)" class="techoutside" pltdoc="x"><span class="techinside">visit</span></a>ed as appropriate.</p></li><li><p>If the form is a <span class="RktSym"><a href="require.html#(form._((quote._~23~25kernel)._~23~25provide))" class="RktStxLink" pltdoc="x">#%provide</a></span> form, then it is recorded for
processing after the rest of the body.</p></li><li><p>If the form is a <span class="RktSym"><a href="define.html#(form._((quote._~23~25kernel)._define-values))" class="RktStxLink" pltdoc="x">define-values</a></span> form, then the binding
is installed immediately, but the right-hand expression is not
expanded further.</p></li><li><p>Similarly, if the form is an expression, it is
not expanded further.</p></li></ul><p>After all <span class="RktVar">form</span>s have been partially expanded this way, then
the remaining expression forms (including those on the right-hand side
of a definition) are expanded in an expression context. Finally,
<span class="RktSym"><a href="require.html#(form._((quote._~23~25kernel)._~23~25provide))" class="RktStxLink" pltdoc="x">#%provide</a></span> forms are processed in the order in which they
appear (independent of <a href="eval-model.html#(tech._phase)" class="techoutside" pltdoc="x"><span class="techinside">phase</span></a>) in the expanded module.</p><p>The scope of all imported identifiers covers the entire module body,
as does the scope of any identifier defined within the module body.
The ordering of syntax definitions does not affect the scope of the
syntax names; a transformer for <span class="RktSym">A</span> can produce expressions
containing <span class="RktSym">B</span>, while the transformer for <span class="RktSym">B</span> produces
expressions containing <span class="RktSym">A</span>, regardless of the order of
declarations for <span class="RktSym">A</span> and <span class="RktSym">B</span>. However, a syntactic form
that produces syntax definitions must be defined before it is used.</p><p>No identifier can be imported or defined more than once at any
<a href="syntax-model.html#(tech._phase._level)" class="techoutside" pltdoc="x"><span class="techinside">phase level</span></a>. Every exported identifier must be imported or
defined. No expression can refer to a <a href="eval-model.html#(tech._top._level._variable)" class="techoutside" pltdoc="x"><span class="techinside">top-level variable</span></a>.</p><p>The evaluation of a <span class="RktSym"><a href="#(form._((quote._~23~25kernel)._module))" class="RktStxLink" pltdoc="x">module</a></span> form does not evaluate the
expressions in the body of the module. Evaluation merely declares a
module, whose full name depends both on <span class="RktVar">id</span> or
<span class="RktPn">(</span><span class="RktSym"><a href="Module_Names_and_Loading.html#(def._((quote._~23~25kernel)._current-module-declare-name))" class="RktValLink" pltdoc="x">current-module-declare-name</a></span><span class="RktPn">)</span>.</p><p>The module body is executed only when the module is explicitly
<a href="eval-model.html#(tech._instantiate)" pltdoc="x">instantiate</a>d via <span class="RktSym"><a href="require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span> or
<span class="RktSym"><a href="Module_Names_and_Loading.html#(def._((quote._~23~25kernel)._dynamic-require))" class="RktValLink" pltdoc="x">dynamic-require</a></span>. On invocation, expressions and definitions
are evaluated in order as they appear within the module. Each
evaluation of an expression or definition is wrapped with a
continuation prompt (see <span class="RktSym"><a href="cont.html#(def._((quote._~23~25kernel)._call-with-continuation-prompt))" class="RktValLink" pltdoc="x">call-with-continuation-prompt</a></span>) for
the default continuation and using the default prompt handler.</p><p>Accessing a <a href="eval-model.html#(tech._module._level._variable)" class="techoutside" pltdoc="x"><span class="techinside">module-level variable</span></a> before it is defined signals
a run-time error, just like accessing an undefined global variable.
If a module (in its fully expanded form) does not contain a
<span class="RktSym"><a href="set_.html#(form._((quote._~23~25kernel)._set!))" class="RktStxLink" pltdoc="x">set!</a></span>  for an identifier that defined within the module, then
the identifier is a <span style="font-style: italic">constant</span> after it is defined; its value
cannot be changed afterward, not even through reflective
mechanisms. The <span class="RktSym"><a href="eval.html#(def._((quote._~23~25kernel)._compile-enforce-module-constants))" class="RktValLink" pltdoc="x">compile-enforce-module-constants</a></span> parameter,
however, can be used to disable enforcement of constants.</p><p>When a <a href="syntax-model.html#(tech._syntax._object)" class="techoutside" pltdoc="x"><span class="techinside">syntax object</span></a> representing a <span class="RktSym"><a href="#(form._((quote._~23~25kernel)._module))" class="RktStxLink" pltdoc="x">module</a></span> form has a
<a name="(idx._(gentag._81._(lib._scribblings/reference/reference..scrbl)))"></a><span class="RktVal">'</span><span class="RktVal">module-language</span> <a href="stxprops.html#(tech._syntax._property)" class="techoutside" pltdoc="x"><span class="techinside">syntax property</span></a> attached, and
when the property value is a vector of three elements where the first
is a module path (in the sense of <span class="RktSym"><a href="Module_Names_and_Loading.html#(def._((quote._~23~25kernel)._module-path~3f))" class="RktValLink" pltdoc="x">module-path?</a></span>) and the
second is a symbol, then the property value is preserved in the
corresponding compiled and/or declared module. The third component of
the vector should be printable and <span class="RktSym"><a href="Reading.html#(def._((quote._~23~25kernel)._read))" class="RktValLink" pltdoc="x">read</a></span>able, so that it can
be preserved in marshaled bytecode. The <a href="index.html" class="RktModLink" pltdoc="x"><span class="RktSym">racket/base</span></a>
and <a href="index.html" class="RktModLink" pltdoc="x"><span class="RktSym">racket</span></a> languages attach
<span class="RktVal">'</span><span class="RktVal">#</span><span class="RktVal">(</span><span class="RktVal">racket/language-info</span><span class="stt"> </span><span class="RktVal">get-info</span><span class="stt"> </span><span class="RktVal">#f</span><span class="RktVal">)</span> to a <span class="RktSym"><a href="#(form._((quote._~23~25kernel)._module))" class="RktStxLink" pltdoc="x">module</a></span>
form. See also <span class="RktSym"><a href="Module_Names_and_Loading.html#(def._((quote._~23~25kernel)._module-compiled-language-info))" class="RktValLink" pltdoc="x">module-compiled-language-info</a></span>,
<span class="RktSym"><a href="Module_Names_and_Loading.html#(def._((quote._~23~25kernel)._module-~3elanguage-info))" class="RktValLink" pltdoc="x">module-&gt;language-info</a></span>, and
<a href="running-sa.html#(mod-path._racket/language-info)" class="RktModLink" pltdoc="x"><span class="RktSym">racket/language-info</span></a>.</p><p>See also <a href="eval-model.html#(part._module-eval-model)" pltdoc="x">Modules and Module-Level Variables</a> and <a href="syntax-model.html#(part._mod-parse)" pltdoc="x">Module Phases and Visits</a>.</p><p><table cellspacing="0" class="RktBlk"><tr><td><p>Example:</p></td></tr><tr><td><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><table cellspacing="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._((quote._~23~25kernel)._module))" class="RktStxLink" pltdoc="x">module</a></span><span class="hspace">&nbsp;</span><span class="RktSym">duck</span><span class="hspace">&nbsp;</span><span class="RktSym">racket/base</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="require.html#(form._((lib._racket/private/base..rkt)._provide))" class="RktStxLink" pltdoc="x">provide</a></span><span class="hspace">&nbsp;</span><span class="RktSym">num-eggs</span><span class="hspace">&nbsp;</span><span class="RktSym">quack</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">num-eggs</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">quack</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="when_unless.html#(form._((lib._racket/private/letstx-scheme..rkt)._unless))" class="RktStxLink" pltdoc="x">unless</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="number-types.html#(def._((quote._~23~25kernel)._zero~3f))" class="RktValLink" pltdoc="x">zero?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Writing.html#(def._((quote._~23~25kernel)._printf))" class="RktValLink" pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"quack\n"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">quack</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="generic-numbers.html#(def._((quote._~23~25kernel)._sub1))" class="RktValLink" pltdoc="x">sub1</a></span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0"><tr><td></td></tr></table></td></tr></table></blockquote></td></tr></table></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._((lib._racket/private/base..rkt)._~23~25module-begin))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._~23~25module-begin))" class="RktStxLink" pltdoc="x">#%module-begin</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">form</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Legal only in a <a href="syntax-model.html#(tech._module._begin._context)" class="techoutside" pltdoc="x"><span class="techinside">module begin context</span></a>, and handled by the
<span class="RktSym"><a href="#(form._((quote._~23~25kernel)._module))" class="RktStxLink" pltdoc="x">module</a></span> form.</div></p><p>The <span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._~23~25module-begin))" class="RktStxLink" pltdoc="x">#%module-begin</a></span> form of <a href="index.html" class="RktModLink" pltdoc="x"><span class="RktSym">racket/base</span></a> wraps
every top-level expression to print non-<a href="../guide/void_undefined.html" class="RktModLink" pltdoc="x"><span class="nobreak"><span class="RktRes">#&lt;void&gt;</span></span></a> results using
<span class="RktSym"><a href="eval.html#(def._((quote._~23~25kernel)._current-print))" class="RktValLink" pltdoc="x">current-print</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._((lib._racket/private/base..rkt)._~23~25plain-module-begin))"></a><span title="Provided from: racket/base, racket"><span class="RktSym"><a href="#(form._((lib._racket/private/base..rkt)._~23~25plain-module-begin))" class="RktStxLink" pltdoc="x">#%plain-module-begin</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">form</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Legal only in a <a href="syntax-model.html#(tech._module._begin._context)" class="techoutside" pltdoc="x"><span class="techinside">module begin context</span></a>, and handled by the
<span class="RktSym"><a href="#(form._((quote._~23~25kernel)._module))" class="RktStxLink" pltdoc="x">module</a></span> form.</div></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.2.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="../index.html" title="up to the documentation top" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.2.1&quot;);">top</a></span><span class="navright"><a href="syntax.html" title="backward to &quot;2 Syntactic Forms&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="syntax.html" title="up to &quot;2 Syntactic Forms&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="require.html" title="forward to &quot;2.2 Importing and Exporting: require and provide&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>